"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2795],{"(app-pages-browser)/./components/ChatInterface.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.r(s),a.d(s,{default:()=>ed});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./hooks/useChatRoom.ts"),i=a("(app-pages-browser)/./components/ui/button.tsx"),n=a("(app-pages-browser)/./components/ui/textarea.tsx"),d=a("(app-pages-browser)/./components/ui/card.tsx"),c=a("(app-pages-browser)/./lib/indexedDB.ts"),p=a("(app-pages-browser)/./components/ui/resizable.tsx"),m=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js"),u=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/folder.js"),x=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js"),h=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/bot.js"),g=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/house.js"),f=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-circle.js"),b=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/book.js"),w=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user.js"),j=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gem.js"),y=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings.js"),v=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/log-out.js"),N=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js"),k=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/external-link.js"),_=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js"),C=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eye.js"),A=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/video.js"),S=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/fullscreen.js"),z=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/code.js"),R=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),E=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/cctv.js"),I=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/pause.js"),$=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/volume-2.js"),D=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/rotate-cw.js"),M=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/copy.js"),U=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-stop.js"),F=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/mic.js"),P=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/paperclip.js"),T=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/ellipsis.js"),O=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-text.js"),L=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js"),B=a("(app-pages-browser)/./node_modules/remark-math/lib/index.js"),H=a("(app-pages-browser)/./node_modules/rehype-katex/index.js"),W=a("(app-pages-browser)/./components/ui/select.tsx"),V=a("(app-pages-browser)/./node_modules/react-markdown/lib/react-markdown.js"),Z=a("(app-pages-browser)/./lib/types.ts"),q=a("(app-pages-browser)/./components/artifacts.tsx"),G=a("(app-pages-browser)/./node_modules/next/dist/api/navigation.js"),K=a("(app-pages-browser)/./components/core/border-trail.tsx");a("(app-pages-browser)/./node_modules/katex/dist/katex.min.css");var Q=a("(app-pages-browser)/./components/ui/popover.tsx"),Y=a("(app-pages-browser)/./components/ui/dropdown-menu.tsx"),J=a("(app-pages-browser)/./components/ui/dialog.tsx"),X=a("(app-pages-browser)/./node_modules/sonner/dist/index.mjs"),ee=a("(app-pages-browser)/./lib/encrypt.tsx"),es=a("(app-pages-browser)/./components/uploads.tsx"),ea=a("(app-pages-browser)/./lib/utils.ts"),et=a("(app-pages-browser)/./components/screenShare.tsx"),er=a("(app-pages-browser)/./components/text-shimmer.tsx"),eo=a("(app-pages-browser)/./components/ui/tooltip.tsx"),el=a("(app-pages-browser)/./components/ui/autosize-textarea.tsx"),ei=a("(app-pages-browser)/./components/backUp.tsx"),en=e([l,i,n,d,p,W,q,K,Q,Y,J,es,ea,et,er,eo,el,ei]);[l,i,n,d,p,W,q,K,Q,Y,J,es,ea,et,er,eo,el,ei]=en.then?(await en)():en;let ed=e=>{let{chatId:s}=e,{broadcastChatRoomsUpdate:a,chatRooms:t,currentChatRoom:en,isLoading:ed,createNewChatRoom:ec,sendMessage:ep,clearChat:em,deleteCurrentChatRoom:eu,setCurrentChatRoom:ex,enhancePromptWithAI:eh,uploadFile:eg}=(0,l.n)();o.useEffect(()=>{if(s){let e=t.find(e=>e.id===s);e&&ex(e)}},[s,t]);let[ef,eb]=(0,o.useState)(""),[ew,ej]=(0,o.useState)(()=>localStorage.getItem("selectedModel")||"free::sourceai"),[ey,ev]=(0,o.useState)(""),eN=(0,o.useRef)(null),ek=(0,G.useRouter)();(0,o.useRef)(null);let[e_,eC]=(0,o.useState)(!1),[eA,eS]=(0,o.useState)(null),[ez,eR]=(0,o.useState)(null),eE=o.useRef(null),[eI,e$]=o.useState(""),[eD,eM]=(0,o.useState)(!1),[eU,eF]=(0,o.useState)(!0),[eP,eT]=(0,o.useState)(()=>{let e=localStorage.getItem("aiFeatures");return e?JSON.parse(e):{search:!0,movies:!0,youtube:!0,imageGeneration:!0}}),[eO,eL]=(0,o.useState)(()=>{{let e=localStorage.getItem("ragEnabled");return"true"===e}}),eB=(0,o.useMemo)(()=>Z.y8.filter(e=>!0===eP[e.key]),[eP]),eH=async()=>{try{eF(!0);let e=await (0,ea.FH)();if(!e){X.toast.error("Error!",{description:"Unable to verify user credentials."}),eM(!1);return}let s=new Date,a=e&&e.expiration_date&&new Date(e.expiration_date)>s;eM(a),a||X.toast.warning("Premium Access Required",{description:"Unable to verify user credentials. Please upgrade to premium access."})}catch(e){console.error("Verification error:",e),X.toast.error("Verification Error",{description:"An unexpected error occurred during verification"}),eM(!1)}finally{eF(!1)}};(0,el.w)({textAreaRef:eE,triggerAutoSize:eI,minHeight:52,maxHeight:200}),o.useEffect(()=>{eE.current&&e$(ef)},[ef]),(0,o.useEffect)(()=>{eH(),ew&&localStorage.setItem("selectedModel",ew)},[ew]);let eW=(e,s)=>{let a=e.replace(/```[\s\S]*?```/g,"").replace(/`[^`]+`/g,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/__(.*?)__/g,"$1").replace(/~~(.*?)~~/g,"$1").replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/^#+\s/gm,"").replace(/>\s/gm,"").trim();if(ez===s){if(e_){null==eA||eA.pause(),eC(!1);return}if(eA){eA.play(),eC(!0);return}}eA&&(eA.pause(),eA.currentTime=0);let t=new Audio("https://blacksourcellc.taile6b163.ts.net/a?text=".concat(encodeURIComponent(a)));t.addEventListener("play",()=>{eC(!0),eR(s)}),t.addEventListener("pause",()=>{eC(!1)}),t.addEventListener("ended",()=>{eC(!1),eS(null),eR(null)}),t.play(),eS(t),eC(!0),eR(s)},eV=async()=>{ep(ef,ew),eb(""),e5()},eZ=async(e,s)=>{ep(e,s||ew),e5()},eq=async(e,s)=>{await e1(s),await eZ(e,"gptzero::detect-intent")},eG=async()=>{let e=await eh(ef);eb(e)},[eK,eQ]=(0,o.useState)(!1),[eY,eJ]=(0,o.useState)(null),[eX,e0]=(0,o.useState)(null),e2=async()=>{if(eK&&eY){eY.stop(),eQ(!1),eX&&(eX.getTracks().forEach(e=>e.stop()),e0(null));return}try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});e0(e);let s=new MediaRecorder(e);eJ(s);let a=[];s.ondataavailable=e=>{e.data.size>0&&a.push(e.data)},s.onstop=async()=>{let e=new Blob(a,{type:"audio/wav"}),s=await new Promise((s,a)=>{let t=new FileReader;t.onloadend=()=>s(t.result),t.onerror=a,t.readAsDataURL(e)});try{let e=await fetch("https://blacksourcellc.taile6b163.ts.net/speech",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"auth.sessionToken ".concat(ea.c7)},body:JSON.stringify({audio:s,language:"en-US"})}),a=await e.json();a.transcript&&(console.log("Transcription:",a.transcript),eb(a.transcript))}catch(e){console.error("Transcription error:",e)}eJ(null),eQ(!1)},s.start(),eQ(!0),setTimeout(()=>{"inactive"!==s.state&&s.stop()},5e3)}catch(e){console.error("Voice recording error:",e),e instanceof DOMException&&"NotAllowedError"===e.name&&alert("Microphone access denied. Please enable microphone permissions."),eQ(!1),eJ(null)}},e5=()=>{var e;null===(e=eN.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},e1=async e=>{en&&(en.messages.splice(e,1),await (0,c.zX)(en),ex({...en}))},e4=async(e,s)=>{await e1(s),await eZ(e,ew),e5()},e3=e=>{if(!navigator.clipboard){try{let s=document.createElement("textarea");s.value=e,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),X.toast.success("Message copied to clipboard")}catch(e){X.toast.error("Failed to copy message"),console.error("Copying failed",e)}return}navigator.clipboard.writeText(e).then(()=>{X.toast.success("Message copied to clipboard")}).catch(e=>{X.toast.error("Failed to copy message"),console.error("Copying failed",e)})},e8=e=>{console.log("File ".concat(e," deleted"))},e9=(e,s)=>{let a=e.split("\n").map(e=>e.trim()).filter(e=>e.length>0),t=a.slice(Math.max(a.length-3,0)).join("\n");console.log(t),ep("\n    SYSTEM PROMPT:\n    You are tasked with continuing upon the following content. \n  \n    CONTEXT TO CONTINUE:\n    ".concat(t,"\n    "),ew),eb(""),e5()},e6=e=>{if(RegExp("SYSTEM PROMPT:\\s*You are tasked with continuing upon the following content\\.","s").test(e))return"Continuing the conversation based on previous context...";let s=RegExp("User Query:\\s*(.*)","s"),a=e.match(s),t=a&&a[1]||e;return t=t.replace(/(?:data:video\/mp4;base64,[^\s]+|https?:\/\/[^\s]+\.mp4)/g,e=>e)};return(0,r.jsx)("div",{className:"fixed inset-0 flex bg-black overflow-hidden",style:{height:"100dvh",maxHeight:"-webkit-fill-available"},children:(0,r.jsxs)(p.HK,{direction:"horizontal",className:"w-full h-full",children:[(0,r.jsx)(p.wV,{defaultSize:7,minSize:7,maxSize:50,onResize:e=>{try{localStorage.setItem("sidebarPanelSize",e.toString())}catch(e){console.error("Failed to save sidebar size",e)}},defaultSize:(()=>{try{let e=localStorage.getItem("sidebarPanelSize");return e?parseInt(e,10):5}catch(e){return console.error("Failed to retrieve sidebar size",e),5}})(),className:"border-r border-gray-800 bg-black p-1 group overflow-hidden",children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"flex justify-center items-center mb-2",children:(0,r.jsx)(i.$,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-white",onClick:()=>{ek.push("/c"),ex(null)},children:(0,r.jsx)(m.A,{className:"w-5 h-5"})})}),(0,r.jsx)("div",{className:"space-y-2 flex-grow overflow-y-auto overflow-x-hidden    scrollbar-thin    scrollbar-track-transparent    scrollbar-thumb-gray-800    hover:scrollbar-thumb-gray-700    scrollbar-thumb-rounded-full   pr-1",children:t.map(e=>(0,r.jsxs)("div",{className:"flex items-center w-full",children:[(0,r.jsxs)(i.$,{variant:(null==en?void 0:en.id)===e.id?"secondary":"ghost",className:"flex-grow flex items-center justify-start p-1 w-full truncate",onClick:()=>{ex(e),ek.push("/c?id=".concat(e.id))},children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,r.jsx)("span",{className:"truncate max-w-full ".concat((null==en?void 0:en.id)===e.id?"opacity-100":"opacity-50 group-[.group]:hover:opacity-100"),children:e.name})]}),e.id===(null==en?void 0:en.id)&&(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>eu(),className:"text-red-500 hover:text-white p-1 flex-shrink-0",children:(0,r.jsx)(x.A,{className:"w-4 h-4"})})]},e.id))})]})}),(0,r.jsx)(p.WM,{withHandle:!0}),(0,r.jsxs)(p.wV,{defaultSize:95,className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)(W.l6,{value:ew||void 0,onValueChange:e=>{ej(e)},children:[(0,r.jsx)(W.bq,{className:"w-[180px] bg-black text-white border-none hover:bg-[#2c2c2c] rounded-md disabled:bg-black disabled:text-[#e0b4b4] disabled:opacity-100 disabled:cursor-not-allowed",children:(0,r.jsx)(W.yv,{placeholder:"Select AI Model"})}),(0,r.jsxs)(W.gC,{className:"bg-black border-none text-white shadow-xl",children:[(0,r.jsxs)(W.s3,{children:[(0,r.jsx)(W.TR,{className:"text-gray-400",children:(null==en?void 0:en.messages.length)!=0&&null===en?"Chat Models":"Suggested for this chat"}),Object.entries(Z.BQ).filter(e=>{let[s]=e;return null==en||en.messages.length,!s.startsWith("502::")&&!s.startsWith("img-")&&!s.startsWith("OO::")}).map(e=>{let[s,a]=e;return(0,r.jsx)(W.eb,{value:s,className:"hover:bg-[#2c2c2c] cursor-pointer focus:bg-[#2c2c2c] focus:text-white",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:a})]})},s)})]}),(0,r.jsx)(W.mi,{}),(0,r.jsxs)(W.s3,{children:[(0,r.jsx)(W.TR,{className:"text-gray-400",children:(null==en?void 0:en.messages.length)!=0&&null===en?"Image Generation":"Suggested Image Generation Models"}),Object.entries(Z.BQ).filter(e=>{let[s]=e;return(null==en?void 0:en.messages.length)!=0&&null===en?s.startsWith("502::")||s.startsWith("img-")||s.startsWith("OO::"):s.includes("502::flux")||s.startsWith("OO::")}).map(e=>{let[s,a]=e;return(0,r.jsx)(W.eb,{value:s,className:"hover:bg-[#2c2c2c] cursor-pointer focus:bg-[#2c2c2c] focus:text-white",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:a})]})},s)})]})]})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(ei.z,{}),(null==en?void 0:en.id)&&(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:em,className:"text-gray-400 hover:text-white",children:(0,r.jsx)(x.A,{className:"w-5 h-5"})}),(0,r.jsxs)(Y.rI,{children:[(0,r.jsx)(Y.ty,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"ghost",size:"icon",className:"hover:bg-gray-900/50 rounded-full",children:(0,r.jsx)("img",{className:"w-8 h-8    rounded-full    object-cover    border-2    border-red-500/50",src:"https://images.squarespace-cdn.com/content/v1/5452398fe4b08a9d2089dea2/1416678523114-K93LPNIMP3V3ABSAQTXP/2014-10-22+16.31.58.jpg",alt:"Profile"})})}),(0,r.jsxs)(Y.SQ,{align:"end",className:"bg-black border border-gray-800 text-white",children:[(0,r.jsx)(Y.lp,{children:"My Account"}),(0,r.jsx)(Y.mB,{className:"bg-gray-800"}),(0,r.jsxs)(Y._2,{className:"hover:bg-gray-900 cursor-pointer",onSelect:()=>{ek.push("/")},children:[(0,r.jsx)(g.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Home"})]}),(0,r.jsxs)(Y._2,{className:"hover:bg-gray-900 cursor-pointer",onSelect:()=>{ek.push("/experimental/chat")},children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Experimental Chat"})]}),(0,r.jsxs)(Y._2,{className:"hover:bg-gray-900 cursor-pointer",onSelect:()=>{ek.push("/services")},children:[(0,r.jsx)(b.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Advance Learning"})]}),(0,r.jsxs)(Y._2,{className:"hover:bg-gray-900 cursor-pointer",onSelect:()=>{window.open("hhttps://bytarch.netlify.app/dashboard","_blank","noopener,noreferrer")},children:[(0,r.jsx)(w.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Profile"})]}),(0,r.jsxs)(Y._2,{className:"hover:bg-gray-900 cursor-pointer",onSelect:()=>{window.open("https://bytarch.netlify.app/pricing","_blank","noopener,noreferrer")},children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Pricing"})]}),(0,r.jsx)(Y.mB,{className:"bg-gray-800"}),(0,r.jsxs)(Y._2,{className:"hover:bg-gray-900 cursor-pointer",onSelect:async()=>{window.location.href="/c/settings"},children:[(0,r.jsx)(y.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Settings"})]}),(0,r.jsxs)(Y._2,{className:"hover:bg-red-900/50 text-red-500 cursor-pointer",onSelect:async()=>{await (0,ee.WY)(),window.location.href="/login"},children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Logout"})]})]})]})]})]}),(0,r.jsx)("div",{className:"flex-grow overflow-y-auto p-4 space-y-4",children:en?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex-grow overflow-y-auto p-4 space-y-4",children:[(null==en?void 0:en.messages.length)===0&&(0,r.jsx)("div",{className:"text-center mt-16",children:(0,r.jsx)(er.q,{text:ew&&(ew.startsWith("502::")||ew.startsWith("img-")||ew.startsWith("OO::"))?"Start generating images with ".concat(Z.BQ[ew]||"AI"):"Start a conversation with ".concat(Z.BQ[ew]||"AI")})}),null==en?void 0:en.messages.map((e,s)=>(0,r.jsxs)(d.Zp,{className:"p-4 max-w-3xl mx-auto border-none shadow-none ".concat("user"===e.role?"bg-black text-white":"bg-black text-gray-300"),children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:"user"===e.role?(0,r.jsx)("img",{className:"w-8 h-8    rounded-full    object-cover    border-2    border-red-500/50    hover:border-red-500    transition-all    duration-300    shadow-sm    hover:shadow-md",src:"https://images.squarespace-cdn.com/content/v1/5452398fe4b08a9d2089dea2/1416678523114-K93LPNIMP3V3ABSAQTXP/2014-10-22+16.31.58.jpg",alt:"Profile"}):(0,r.jsx)("img",{className:"w-8 h-8    rounded-full    object-cover    border-2    border-green-500/50    hover:border-green-500    transition-all    duration-300    shadow-sm    hover:shadow-md",src:"/logo2.png",alt:"Profile"})}),(0,r.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:(0,r.jsx)(V.$,{remarkPlugins:[B.A],rehypePlugins:[H.A],className:"   w-full    prose    dark:prose-invert    prose-sm    md:prose-base    max-w-full    break-words    text-pretty    overflow-x-auto    text-wrap    whitespace-normal   ",components:{h1:e=>{let{node:s,...a}=e;return(0,r.jsx)("h1",{className:"scroll-m-20    text-2xl md:text-3xl lg:text-4xl    font-extrabold tracking-tight    text-white    border-b border-gray-700    pb-2 mb-4",...a})},h2:e=>{let{node:s,...a}=e;return(0,r.jsx)("h2",{className:"scroll-m-20    text-xl md:text-2xl lg:text-3xl    font-semibold tracking-tight    text-gray-200    border-b border-gray-700    pb-2 mt-6 mb-4",...a})},h3:e=>{let{node:s,...a}=e;return(0,r.jsx)("h3",{className:"scroll-m-20    text-lg md:text-xl    font-semibold    text-gray-300    mt-4 mb-2",...a})},pre:e=>{let{node:s,...a}=e;return(0,r.jsx)("pre",{className:"   overflow-x-auto    max-w-full    whitespace-pre-wrap    break-words    bg-gray-900    p-2    rounded   text-wrap   ",...a})},p:e=>{let{node:s,...a}=e;return(0,r.jsx)("p",{className:"text-sm md:text-base    leading-relaxed    text-gray-300    [&:not(:first-child)]:mt-6",...a})},ul:e=>{let{node:s,...a}=e;return(0,r.jsx)("ul",{className:"my-6 ml-6    list-disc    text-sm md:text-base    text-gray-300    [&>li]:mt-2",...a})},ol:e=>{let{node:s,...a}=e;return(0,r.jsx)("ol",{className:"my-6 ml-6    list-decimal    text-sm md:text-base    text-gray-300    [&>li]:mt-2",...a})},li:e=>{let{node:s,...a}=e;return(0,r.jsx)("li",{className:"pl-2    text-gray-300",...a})},a:e=>{let{node:s,...a}=e;return(0,r.jsx)("a",{className:"text-blue-400    hover:text-blue-300    underline    transition-colors    duration-200",target:"_blank",rel:"noopener noreferrer",...a})},img:e=>{let{node:s,...a}=e,{src:t,alt:o}=s.properties,l=[/data:video\/mp4;base64,/,/data:video\/webm;base64,/,/data:video\/ogg;base64,/,/\.mp4$/,/\.webm$/,/\.mov$/,/\.avi$/,/\.mkv$/].some(e=>"string"==typeof t&&e.test(t)),i=[/data:audio\/wav;base64,/,/data:audio\/mp3;base64,/,/data:audio\/mpeg;base64,/,/\.wav$/,/\.mp3$/,/\.ogg$/,/\.flac$/,/\.m4a$/].some(e=>"string"==typeof t&&e.test(t));return(0,r.jsxs)(J.lG,{children:[(0,r.jsx)(J.zM,{asChild:!0,children:(0,r.jsxs)("div",{className:"inline-flex items-center group cursor-pointer",children:[(0,r.jsx)(C.A,{className:"mr-2 w-4 h-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"text-blue-500 hover:underline text-sm",children:l?" Open Video (Experimental)":i?"Listen to Audio":"View Image"})]})}),(0,r.jsxs)(J.Cf,{className:"sm:max-w-[80%] max-h-[90vh] flex flex-col",children:[(0,r.jsx)(J.c7,{children:(0,r.jsx)(J.L3,{children:(0,r.jsxs)("div",{className:"flex items-center",children:[l?(0,r.jsx)(A.A,{className:"mr-2"}):(0,r.jsx)(S.A,{className:"mr-2"}),o||(l?"Video (Experimental)":i?"Play Audio":"Image")]})})}),(0,r.jsx)("div",{className:"flex-grow overflow-auto",children:(()=>{let e=async()=>{try{let e=await fetch(t),s=await e.blob(),a=URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download="bytarch_media_".concat(Date.now()).concat(l?".mp4":i?".wav":".jpg"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}catch(e){console.error("Download failed",e),alert("Failed to download media")}};return(0,r.jsxs)("div",{className:"relative group w-full max-w-md mx-auto",children:[(0,r.jsx)("div",{className:"   w-full    h-64    md:h-80    lg:h-96    overflow-hidden    rounded-lg    bg-gray-100    dark:bg-gray-800   flex    items-center    justify-center   ",children:l?(0,r.jsx)("video",{autoPlay:!0,loop:!0,controls:!0,src:t,className:"w-full h-full object-contain aspect-video",alt:o||"Video",children:"Your browser does not support the video tag."}):i?(0,r.jsxs)("div",{className:"w-full p-4 flex flex-col items-center justify-center",children:[(0,r.jsx)("audio",{autoPlay:!0,loop:!0,controls:!0,src:t,className:"w-full max-w-md",children:"Your browser does not support the audio tag."}),(0,r.jsx)("div",{className:"mt-4 text-sm text-gray-500",children:(null==o?void 0:o.length)>20?"".concat(o.slice(0,20),"..."):o||"Audio"})]}):(0,r.jsx)("img",{src:t,alt:o||"Image",className:"w-full h-full object-contain object-center",...a})}),(0,r.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[(0,r.jsx)("button",{onClick:()=>{window.open(t,"_blank","noopener,noreferrer")},className:"bg-white/80 dark:bg-black/80 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",title:"Open Media",children:(0,r.jsx)(k.A,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:e,className:"bg-white/80 dark:bg-black/80 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",title:"Download Media",children:(0,r.jsx)(_.A,{className:"w-4 h-4"})})]})]})})()})]})]})},blockquote:e=>{let{node:s,...a}=e;return(0,r.jsx)("blockquote",{className:"border-l-4 border-gray-700    pl-4    italic    text-gray-400    my-4",...a})},code:e=>{let{node:s,inline:a,className:t,children:o,...l}=e;if(a)return(0,r.jsx)("code",{className:"   break-words    overflow-x-auto    max-w-full    whitespace-pre-wrap    bg-gray-900    px-1    rounded   text-wrap   ",...l,children:o});let i=null==t?void 0:t.match(/language-(\w+)/),n=i?i[1]:void 0;return n?(0,r.jsxs)(d.Zp,{className:"my-4 border-2 hover:border-primary/50 transition-all duration-300 group relative overflow-hidden",children:[(0,r.jsx)(K.T,{className:"absolute top-0 left-0 right-0 z-0 bg-gradient-to-l \n                                ".concat((0,ea.sr)().light," \n                                dark:").concat((0,ea.sr)().dark),size:Math.floor(81*Math.random())+80}),(0,r.jsxs)(d.aR,{className:"pb-2 relative z-10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(d.ZB,{className:"flex items-center gap-2",children:n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.A,{className:"w-5 h-5 text-muted-foreground"}),(0,r.jsx)("span",{children:n.toUpperCase()})]})}),(0,r.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity absolute top-0 right-0",children:(0,r.jsx)(q.p,{isVerified:eD,code:String(o),language:null!=n?n:"",isVerifying:eU})})]}),(0,r.jsxs)("pre",{className:"bg-black/5 border rounded-lg p-2 text-sm line-1 overflow-x-auto mt-2 max-h-[50px] overflow-hidden relative",children:[(0,r.jsxs)("code",{className:"text-foreground  opacity-90 font-mono text-xs line-clamp-1",...l,children:[String(o).slice(0,10),"..."]}),(0,r.jsxs)("span",{className:"absolute bottom-1 right-1 text-xs opacity-50",children:[String(o).split("\n").length," lines"]})]})]})]}):(0,r.jsx)("code",{className:"border-l-4 border-gray-700    pl-4    italic    text-gray-400    my-4",...l,children:o})}},linkTarget:"_new",children:e6(e.content)})})]}),(0,r.jsxs)(eo.Bc,{children:[(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-end space-x-2",children:[0===s&&(0,r.jsxs)(eo.m_,{delayDuration:300,children:[(0,r.jsx)(eo.k$,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>e5(),className:"text-gray-500 hover:text-white",children:(0,r.jsx)(R.A,{className:"w-4 h-4"})})}),(0,r.jsx)(eo.ZI,{children:(0,r.jsx)("p",{children:"Scroll to Bottom"})})]}),"assistant"===e.role&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[!e.content.includes(".mp4")&&!e.content.includes(".png")&&!e.content.includes(".wav")&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(eo.m_,{delayDuration:300,children:[(0,r.jsx)(eo.k$,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>eq(e.content,s),className:"text-gray-500 hover:text-white",children:(0,r.jsx)(E.A,{className:"w-4 h-4"})})}),(0,r.jsx)(eo.ZI,{children:(0,r.jsx)("p",{children:"AI Detector"})})]})}),s===(null==en?void 0:en.messages.length)-1&&!e.content.includes("youtube.com")&&!e.content.includes("imdb.com")&&(0,r.jsxs)(eo.m_,{delayDuration:300,children:[(0,r.jsx)(eo.k$,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>e9(e.content,s),className:"text-gray-500 hover:text-white",children:(0,r.jsx)(m.A,{className:"w-4 h-4"})})}),(0,r.jsx)(eo.ZI,{children:(0,r.jsx)("p",{children:"Continue Conversation"})})]}),(0,r.jsxs)(eo.m_,{delayDuration:300,children:[(0,r.jsx)(eo.k$,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>eW(e.content,s),className:"text-gray-500 hover:text-white",children:e_&&ez===s?(0,r.jsx)(I.A,{className:"w-4 h-4"}):(0,r.jsx)($.A,{className:"w-4 h-4"})})}),(0,r.jsx)(eo.ZI,{children:(0,r.jsx)("p",{children:e_&&ez===s?"Pause":"Listen"})})]})]}),(0,r.jsxs)(eo.m_,{delayDuration:300,children:[(0,r.jsx)(eo.k$,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>e1(s),className:"text-gray-500 hover:text-white",children:(0,r.jsx)(x.A,{className:"w-4 h-4"})})}),(0,r.jsx)(eo.ZI,{children:(0,r.jsx)("p",{children:"Delete Message"})})]}),"user"===e.role&&(0,r.jsxs)(eo.m_,{delayDuration:300,children:[(0,r.jsx)(eo.k$,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"ghost",size:"icon",disabled:ed,onClick:async()=>await e4(e.content,s),className:"text-gray-500 hover:text-white disabled:opacity-50",children:(0,r.jsx)(D.A,{className:"w-4 h-4"})})}),(0,r.jsx)(eo.ZI,{children:(0,r.jsx)("p",{children:"Resend Message"})})]}),(0,r.jsxs)(eo.m_,{delayDuration:300,children:[(0,r.jsx)(eo.k$,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>e3(e6(e.content)),className:"text-gray-500 hover:text-white",children:(0,r.jsx)(M.A,{className:"w-4 h-4"})})}),(0,r.jsx)(eo.ZI,{children:(0,r.jsx)("p",{children:"Copy Message"})})]}),(0,r.jsxs)(eo.m_,{delayDuration:300,children:[(0,r.jsx)(eo.k$,{asChild:!0,children:(0,r.jsx)("span",{className:"text-xs text-gray-500",children:(0,ea.QM)(e.timestamp)})}),(0,r.jsx)(eo.ZI,{children:(0,r.jsxs)("p",{children:[" ",(0,ea.YS)(e.timestamp)]})})]})]}),"    "]})]},e.id)),(0,r.jsx)("div",{ref:eN})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-center mt-16",children:(0,r.jsx)(er.q,{text:ew&&(ew.startsWith("502::")||ew.startsWith("img-")||ew.startsWith("OO::"))?"Start generating images with ".concat(Z.BQ[ew]||"AI"):"Start a conversation with ".concat(Z.BQ[ew]||"AI")})}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-4 max-w-6xl mx-auto",children:eB.flatMap(e=>e.prompts.map((s,a)=>(0,r.jsxs)(i.$,{variant:"outline",className:"   w-full    h-full    min-h-[120px]    bg-black    border-gray-800    hover:bg-[#2c2c2c]    hover:border-blue-600   flex    flex-col    justify-between    text-left    p-3    space-y-2   transition-all    duration-300    ease-in-out   transform    hover:-translate-y-1    hover:scale-[1.02]   focus:outline-none    focus:ring-2    focus:ring-blue-500   ",onClick:async()=>{await eb(s)},children:[(0,r.jsxs)("div",{className:"flex justify-between items-start w-full",children:[(0,r.jsx)(h.A,{className:"w-5 h-5 text-blue-400"}),(0,r.jsx)("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e.title})]}),(0,r.jsx)("div",{className:"text-sm text-gray-300 flex-grow break-words line-clamp-3 overflow-hidden text-ellipsis",children:s.length>25?"".concat(s.substring(0,25),"..."):s}),(0,r.jsx)("div",{className:"flex justify-end w-full",children:(0,r.jsx)(N.A,{className:"w-4 h-4 text-gray-500 group-hover:text-blue-400"})})]},"".concat(e.title,"-").concat(a))))})]})}),(0,r.jsx)("div",{className:"p-1",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"hidden md:flex items-center mr-2",children:[(0,r.jsx)(i.$,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-white",onClick:e2,children:eK?(0,r.jsx)(U.A,{className:"w-5 h-5 text-red-500"}):(0,r.jsx)(F.A,{className:"w-5 h-5"})}),(0,r.jsx)(i.$,{variant:"ghost",size:"icon",className:"mr-2 text-gray-400 hover:text-white",onClick:()=>eg(),children:(0,r.jsx)(P.A,{className:"w-5 h-5"})}),(0,r.jsx)(es.u,{onDeleteFile:e8}),(0,r.jsx)(et.A,{})]}),(0,r.jsx)("div",{className:"md:hidden mr-2",children:(0,r.jsxs)(Q.AM,{children:[(0,r.jsx)(Q.Wv,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-white",children:(0,r.jsx)(T.A,{className:"w-5 h-5"})})}),(0,r.jsx)(Q.hl,{side:"top",align:"start",className:"w-auto p-2 bg-gray-800 border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(i.$,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-white",onClick:e2,children:eK?(0,r.jsx)(U.A,{className:"w-5 h-5 text-red-500"}):(0,r.jsx)(F.A,{className:"w-5 h-5"})}),(0,r.jsx)(i.$,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-white",onClick:()=>eg(),children:(0,r.jsx)(P.A,{className:"w-5 h-5"})}),(0,r.jsx)(es.u,{onDeleteFile:e8}),(0,r.jsx)(et.A,{})]})})]})}),(0,r.jsx)("div",{className:"flex-grow flex items-center",children:(0,r.jsxs)("div",{className:"flex w-full items-center bg-[#2c2c2c] rounded-lg border border-gray-700",children:[(0,r.jsx)(n.T,{ref:eE,value:ef,onChange:e=>{eb(e.target.value),e$(e.target.value)},rows:1,placeholder:"Type your message...",className:"flex-grow bg-transparent text-white focus:outline-none",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||ed||(e.preventDefault(),eV())}}),(0,r.jsxs)("div",{className:"flex items-center space-x-1 mr-1",children:[(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>{let e=!eO;eL(e),localStorage.setItem("ragEnabled",String(e))},className:"w-7 h-7 rounded-full ".concat(eO?"bg-blue-700 hover:bg-red-400":"bg-gray-600 hover:bg-gray-700"),children:(0,r.jsx)(O.A,{className:"w-4 h-4"})}),(0,r.jsx)(i.$,{onClick:async()=>await eG(),disabled:ed||!ef,size:"icon",className:"w-7 h-7 bg-green-600 hover:bg-green-700 rounded-full",children:ed?(0,r.jsx)(L.A,{className:"w-4 h-4 animate-spin"}):(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v3m0 12v3m9-9h-3m-12 0H3m15.364-6.364l-2.121 2.121m-8.486 8.486l-2.121 2.121m0-12.728l2.121 2.121m8.486 8.486l2.121 2.121"})})}),(0,r.jsx)(i.$,{onClick:async()=>await eV(),disabled:ed||!ef,size:"icon",className:"w-7 h-7 bg-blue-600 hover:bg-blue-700 rounded-full",children:ed?(0,r.jsx)(L.A,{className:"w-4 h-4 animate-spin"}):(0,r.jsx)(N.A,{className:"w-4 h-4"})})]})]})})]})})]})]})})};t()}catch(e){t(e)}})},"(app-pages-browser)/./components/WebContainerIDE.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{C:()=>A});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./components/ui/button.tsx"),i=a("(app-pages-browser)/./node_modules/@codemirror/autocomplete/dist/index.js"),n=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-code.js"),d=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-pen.js"),c=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-json.js"),p=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/code.js"),m=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/codepen.js"),u=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eye.js"),x=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js"),h=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js"),g=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js"),f=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/save.js"),b=a("(app-pages-browser)/./node_modules/sonner/dist/index.mjs"),w=a("(app-pages-browser)/./node_modules/@uiw/react-codemirror/esm/index.js"),j=a("(app-pages-browser)/./node_modules/@codesandbox/sandpack-react/dist/index.mjs"),y=a("(app-pages-browser)/./node_modules/@codemirror/lang-javascript/dist/index.js"),v=a("(app-pages-browser)/./node_modules/@codemirror/lang-html/dist/index.js"),N=a("(app-pages-browser)/./node_modules/@codemirror/lang-css/dist/index.js"),k=a("(app-pages-browser)/./components/ui/select.tsx"),_=a("(app-pages-browser)/./node_modules/@uiw/codemirror-theme-vscode/esm/index.js"),C=e([l,k]);[l,k]=C.then?(await C)():C;let A=e=>{let{initialCode:s,onClose:t}=e,[C,A]=(0,o.useState)(null),[S,z]=(0,o.useState)({files:{"index.html":s.trim(),"runner.by":'Click the "Run" button to start the project. It will appear on the far bottom of the screen after an edit is made.'},mainFile:"index.html"}),[R,E]=(0,o.useState)("index.html"),[I,$]=(0,o.useState)([]),[D,M]=(0,o.useState)("idle"),[U,F]=(0,o.useState)("code");(0,o.useRef)(null);let[P,T]=(0,o.useState)(s);(0,o.useEffect)(()=>((async function(){try{window,M("fallback")}catch(e){M("fallback")}})(),()=>{null==C||C.teardown()}),[]);let O={html:[(0,v.qy)(),(0,i.yU)({defaultKeymap:!0,selectOnOpen:!1})],javascript:[(0,y.Q2)(),(0,i.yU)({defaultKeymap:!0,selectOnOpen:!1})],css:[(0,N.AH)(),(0,i.yU)({defaultKeymap:!0,selectOnOpen:!1})]},L=async()=>{try{let e=new(await a.e(670).then(a.t.bind(a,"(app-pages-browser)/./node_modules/jszip/dist/jszip.min.js",23))).default;Object.entries(S.files).forEach(s=>{let[a,t]=s;e.file(a,t)});let s=await e.generateAsync({type:"blob"}),t=document.createElement("a");t.href=URL.createObjectURL(s),t.download="genie-generated-code.zip",document.body.appendChild(t),t.click(),document.body.removeChild(t),b.toast.success("Project saved as ZIP")}catch(e){console.error("Error saving project:",e),b.toast.error("Failed to save project")}},B=e=>{var s;switch(null===(s=e.split(".").pop())||void 0===s?void 0:s.toLowerCase()){case"html":return(0,r.jsx)(n.A,{className:"w-4 h-4"});case"css":return(0,r.jsx)(d.A,{className:"w-4 h-4"});case"js":return(0,r.jsx)(c.A,{className:"w-4 h-4"});default:return(0,r.jsx)(p.A,{className:"w-4 h-4"})}};return(0,r.jsxs)("div",{className:"flex flex-col h-screen max-h-screen relative bg-[#1E1E1E]",children:[(0,r.jsx)("div",{className:"bg-[#252526] border-b border-[#3c3c3c]",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("div",{className:"min-w-max p-2",children:[(0,r.jsx)("div",{className:"md:hidden mb-2",children:(0,r.jsxs)(k.l6,{value:R,onValueChange:e=>E(e),children:[(0,r.jsx)(k.bq,{className:"w-full",children:(0,r.jsx)(k.yv,{placeholder:"Select a file"})}),(0,r.jsx)(k.gC,{children:Object.keys(S.files).map(e=>(0,r.jsx)(k.eb,{value:e,children:e},e))})]})}),(0,r.jsx)("div",{className:"hidden md:flex items-center space-x-2",children:Object.keys(S.files).map(e=>(0,r.jsxs)(l.$,{variant:R===e?"secondary":"ghost",size:"sm",onClick:()=>E(e),className:"text-white hover:bg-[#3c3c3c] flex-shrink-0",children:[B(e),(0,r.jsx)("span",{className:"ml-2 truncate max-w-[100px]",children:e}),R===e&&(0,r.jsx)("span",{className:"ml-2 text-xs",children:"*"})]},e))}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-2 mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(l.$,{variant:"code"===U?"default":"ghost",size:"sm",onClick:()=>F("code"),className:"text-white",children:[(0,r.jsx)(m.A,{className:"mr-0 md:mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"hidden md:inline",children:"Code"})]}),(0,r.jsxs)(l.$,{variant:"preview"===U?"default":"ghost",size:"sm",onClick:()=>F("preview"),className:"text-white",children:[(0,r.jsx)(u.A,{className:"mr-0 md:mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"hidden md:inline",children:"Preview"})]})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)(l.$,{variant:"ghost",size:"icon",onClick:t,className:"text-white hover:bg-[#3c3c3c]",children:(0,r.jsx)(x.A,{className:"h-4 w-4"})})})]})]})})}),(0,r.jsx)("div",{className:"flex flex-1 overflow-hidden",children:(0,r.jsx)("div",{className:"flex-1 relative overflow-hidden",children:(0,r.jsx)("div",{className:"   relative    h-full   overflow-auto   scrollbar-thin    scrollbar-track-[#1E1E1E]    scrollbar-thumb-[#252526]   ",children:(0,r.jsx)("div",{className:"relative min-h-full break-words",children:"code"===U?(0,r.jsxs)("div",{className:"h-full w-full overflow-hidden",children:[(0,r.jsx)(j.l5,{files:S.files,template:"static",theme:"dark",customSetup:{entry:"/runner.by",dependencies:{react:"latest","react-dom":"latest","@bytarch/ai":"latest","@bytarch/qrcode":"latest"}},autoReload:!0,options:{wrapContent:!0,showInlineErrors:!0,initMode:"user-visible",showLineNumbers:!0,closableTabs:!0,activeFile:R,onFileChanged:e=>{E(e)}},children:(0,r.jsx)("div",{className:"relative h-full w-full",children:(0,r.jsxs)("div",{className:"h-full w-full flex flex-col overflow-hidden",children:[(0,r.jsx)(j.am,{className:"w-full h-full overflow-hidden",children:(0,r.jsx)("div",{className:"flex h-full w-full overflow-hidden",children:(0,r.jsx)(w.Ay,{value:S.files[R],height:"100%",theme:_.Ts,extensions:[O.html||[],w.Lz.lineWrapping],onChange:e=>T(e),className:"   w-full    h-full    break-words    whitespace-pre-wrap    text-wrap   ",basicSetup:{lineNumbers:!0,highlightActiveLine:!0,foldGutter:!0,syntaxHighlighting:!0,bracketMatching:!0}})})}),(0,r.jsx)("div",{className:"   fixed    bottom-4    right-4    z-50    group   ",children:(0,r.jsx)(j.i7,{children:e=>(0,r.jsx)("button",{onClick:()=>{try{null==e||e.runSandpack(),F("preview"),b.toast.success("Project is running successfully")}catch(e){b.toast.error("Failed to run project")}},className:"   bg-blue-500/50    hover:bg-blue-500/70    text-white    p-3    rounded-full    shadow-lg   transition-all    duration-300    ease-in-out    flex    items-center    justify-center   ",children:(0,r.jsx)(h.A,{className:"w-6 h-6 text-white"})})})})]})})}),(0,r.jsx)(j.i7,{children:e=>(0,r.jsx)("div",{className:"   absolute    bottom-4    right-4    z-50    group   ",children:(0,r.jsx)("button",{onClick:()=>{null==e||e.runSandpack()},className:"   bg-blue-500/20    hover:bg-blue-500/50    text-white    p-2    rounded-full    transition-all    duration-300    ease-in-out    opacity-0    group-hover:opacity-100    focus:outline-none    focus:ring-2    focus:ring-blue-500    focus:ring-opacity-50   flex    items-center    justify-center   ",children:(0,r.jsx)(h.A,{className:"w-6 h-6 text-blue-400 group-hover:text-blue-200 transition-colors"})})})})]}):(0,r.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,r.jsx)(j.l5,{files:S.files,template:"static",theme:"dark",customSetup:{entry:"/runner.by"},autoReload:!0,options:{autorun:!0,autoReload:!0,wrapContent:!0,showInlineErrors:!0,initMode:"user-visible",showLineNumbers:!0,closableTabs:!0},children:(0,r.jsx)("div",{className:"absolute inset-0 flex flex-col overflow-hidden",children:(0,r.jsx)(j.am,{className:"flex-grow w-full h-full overflow-hidden",children:(0,r.jsx)(j.G5,{autoReload:!0,showRefreshButton:!0,showOpenInCodeSandbox:!1,className:"absolute inset-0 w-full h-full overflow-hidden"})})})})})})})})}),(0,r.jsxs)("div",{className:"hidden md:flex bg-[#252526] p-2 text-white text-sm flex-col md:flex-row justify-between items-center space-y-2 md:space-y-0",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center space-y-1 md:space-y-0 md:space-x-2 w-full md:w-auto",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)("span",{className:"truncate max-w-[200px]",children:"fallback"===D?"VM":D})}),"fallback"===D&&(0,r.jsxs)("span",{className:"text-green-400 flex items-center md:ml-2",children:[(0,r.jsx)(g.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"text-xs",children:"OK"})]})]}),(0,r.jsx)("div",{className:"w-full md:w-auto",children:(0,r.jsxs)(l.$,{variant:"ghost",size:"sm",onClick:L,className:"text-white hover:bg-[#3c3c3c] w-full md:w-auto flex items-center justify-center",children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Save Project"})]})})]})]})};t()}catch(e){t(e)}})},"(app-pages-browser)/./components/artifacts.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{p:()=>_});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./node_modules/axios/lib/axios.js"),i=a("(app-pages-browser)/./components/ui/dialog.tsx"),n=a("(app-pages-browser)/./components/ui/button.tsx"),d=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/code.js"),c=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js"),p=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/terminal.js"),m=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js"),u=a("(app-pages-browser)/./node_modules/sonner/dist/index.mjs"),x=a("(app-pages-browser)/./node_modules/@uiw/react-codemirror/esm/index.js"),h=a("(app-pages-browser)/./node_modules/@uiw/codemirror-theme-vscode/esm/index.js"),g=a("(app-pages-browser)/./node_modules/@codemirror/lang-javascript/dist/index.js"),f=a("(app-pages-browser)/./node_modules/@codemirror/lang-python/dist/index.js"),b=a("(app-pages-browser)/./node_modules/@codemirror/lang-cpp/dist/index.js"),w=a("(app-pages-browser)/./node_modules/@codemirror/autocomplete/dist/index.js"),j=a("(app-pages-browser)/./components/WebContainerIDE.tsx"),y=a("(app-pages-browser)/./components/ui/resizable.tsx"),v=a("(app-pages-browser)/./lib/utils.ts"),N=a("(app-pages-browser)/./lib/types.ts"),k=e([i,n,j,y,v]);[i,n,j,y,v]=k.then?(await k)():k;let _=e=>{var s;let{code:a,isVerified:t=!1,isVerifying:k=!1,language:_}=e,[C,A]=(0,o.useState)(!1),[S,z]=(0,o.useState)(a),[R,E]=(0,o.useState)(!1),[I,$]=(0,o.useState)(null),[D,M]=(0,o.useState)(null),[U,F]=(0,o.useState)("code"),[P,T]=(0,o.useState)(!1),O=(0,o.useCallback)(()=>{if(k){u.toast.info("Verifying credentials...",{description:"Please wait while we verify your account"});return}"html"===_&&(t?T(!0):u.toast.error("This feature isn't available!",{description:"Upgrade your plan to access this feature. You are defaulting to the regular IDE for the HTML codebase. Upgrade to debug and view the component as a web-page with a subscription/premium plan."})),A(!0)},[k,t,_]),L=async()=>{try{var e,s,a,r,o;let i=N.qT[_];if(!i){u.toast.error("Compilation not supported for ".concat(_));return}if(console.log("User Validation:",t),!("python"===_||t&&"python"!==_)){u.toast.error("Code execution not permitted",{description:"python"===_?"Python execution is always allowed":"Upgrade your plan to run this language"});return}E(!0),$(null),M(null),F("output");try{let t=await l.A.post("https://blacksourcellc.taile6b163.ts.net/api/compiler/compile",{compiler:i.id,source:S,lang:_,options:{compilerOptions:{skipAsm:!0,executorRequest:!0,filters:{execute:!0}}}},{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"auth.sessionToken ".concat(v.c7)}});if(t.data.didExecute&&0===t.data.code){let a=(null===(e=t.data.stdout)||void 0===e?void 0:e.map(e=>e.text))||[],r=(null===(s=t.data.stderr)||void 0===s?void 0:s.map(e=>e.text))||[],o=[...a,...r].join("\n");$(o||"No output"),u.toast.success("Code executed successfully",{description:"Execution time: ".concat(t.data.execTime,"ms")})}else{let e=(null===(a=t.data.stderr)||void 0===a?void 0:a.map(e=>e.text).join("\n"))||"Compilation or execution failed";M(e),u.toast.error("Compilation or execution failed")}}catch(s){console.error("Execution error:",s);let e=(null===(o=s.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.message)||"Execution failed";M(e),u.toast.error(e)}finally{E(!1)}}catch(e){console.error("User verification error:",e),u.toast.error("Authentication Error",{description:"Failed to verify user credentials"})}},B={cpp:[(0,b.I)(),(0,w.yU)({defaultKeymap:!0,selectOnOpen:!1})],javascript:[(0,g.Q2)(),(0,w.yU)({defaultKeymap:!0,selectOnOpen:!1})],python:[(0,f.Hg)(),(0,w.yU)({defaultKeymap:!0,selectOnOpen:!1})]};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.$,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:O,children:(0,r.jsx)(d.A,{className:"w-4 h-4"})}),(0,r.jsx)(i.lG,{open:C,onOpenChange:A,children:(0,r.jsx)(i.Cf,{className:"   max-w-full    md:max-w-6xl    w-full    h-full    md:h-[90vh]    p-0    overflow-hidden    rounded-none    md:rounded-lg   ",children:"html"===_&&P&&t?(0,r.jsx)(j.C,{initialCode:a,onClose:()=>{A(!1),T(!1)}}):(0,r.jsxs)(y.HK,{direction:"vertical",className:"h-full",children:[(0,r.jsxs)(y.wV,{defaultSize:70,minSize:30,children:[(0,r.jsx)("div",{className:"   bg-[#252526]    h-[35px]    flex    items-center    justify-between    px-2    border-b    border-[#3c3c3c]   ",children:(0,r.jsxs)("span",{className:"text-white text-sm truncate",children:[_," - ",null===(s=N.qT[_])||void 0===s?void 0:s.name]})}),(0,r.jsx)("div",{className:"   relative    h-[calc(100%-35px)]   overflow-auto   scrollbar-thin    scrollbar-track-[#1E1E1E]    scrollbar-thumb-[#252526]   ",children:(0,r.jsxs)("div",{className:"relative min-h-full",children:[(0,r.jsx)(x.Ay,{value:S,height:"100%",theme:h.Ts,extensions:[B[_]||[],x.Lz.lineWrapping],onChange:e=>z(e),className:"   w-full    h-full    break-words    whitespace-pre-wrap    text-wrap   ",basicSetup:{lineNumbers:!0,highlightActiveLine:!0,foldGutter:!0,syntaxHighlighting:!0,bracketMatching:!0}}),(0,r.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>{let e={cpp:".cpp",javascript:".js",python:".py",dart:".dart"}[_]||".txt",s="_bytarch_".concat(_,"_code").concat(null!=e?e:".txt"),a=new Blob([S],{type:"text/plain"}),t=document.createElement("a");t.href=URL.createObjectURL(a),t.download=s,document.body.appendChild(t),t.click(),document.body.removeChild(t),u.toast.success("Downloaded ".concat(s))},className:"   absolute    top-2    right-2    bg-[#252526]/50    hover:bg-[#252526]/70    text-white   z-10   ",children:(0,r.jsx)(c.A,{className:"w-4 h-4"})})]})})]}),(0,r.jsx)(y.WM,{withHandle:!0}),(0,r.jsxs)(y.wV,{defaultSize:30,minSize:20,children:[(0,r.jsxs)("div",{className:"   bg-[#252526]    h-[35px]    flex    items-center    justify-between    px-2    border-b    border-[#3c3c3c]   ",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p.A,{className:"w-4 h-4 text-white"}),(0,r.jsx)("span",{className:"text-white text-sm",children:"CONSOLE"})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)(n.$,{variant:"ghost",size:"sm",onClick:L,disabled:R,className:"text-white hover:bg-[#2c2c2c]",children:R?(0,r.jsx)("span",{className:"animate-pulse",children:"Compiling..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"w-4 h-4 mr-2"})," Run"]})})})]}),(0,r.jsxs)("div",{className:"   overflow-auto    p-2    text-white    font-mono    h-[calc(100%-35px)]   scrollbar-thin    scrollbar-track-[#1E1E1E]    scrollbar-thumb-[#252526]   ",children:[R&&(0,r.jsx)("div",{className:"text-gray-400 animate-pulse",children:"Executing..."}),I&&(0,r.jsx)("pre",{className:"   text-green-400    break-words    whitespace-pre-wrap    overflow-x-auto    max-w-full   ",children:I}),D&&(0,r.jsx)("pre",{className:"   text-red-400    break-words    whitespace-pre-wrap    overflow-x-auto    max-w-full   ",children:D}),!R&&!I&&!D&&(0,r.jsx)("div",{className:"text-gray-500",children:"Run your code to see output"})]})]})]})})})]})};t()}catch(e){t(e)}})},"(app-pages-browser)/./components/backUp.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{z:()=>A});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./components/ui/dialog.tsx"),i=a("(app-pages-browser)/./components/ui/tabs.tsx"),n=a("(app-pages-browser)/./components/ui/tooltip.tsx"),d=a("(app-pages-browser)/./node_modules/next/dist/api/navigation.js"),c=a("(app-pages-browser)/./components/ui/button.tsx"),p=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/database-backup.js"),m=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js"),u=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/hard-drive.js"),x=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/server.js"),h=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-circle.js"),g=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/cloud-upload.js"),f=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js"),b=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js"),w=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-alert.js"),j=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js"),y=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js"),v=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/cloud.js"),N=a("(app-pages-browser)/./node_modules/sonner/dist/index.mjs"),k=a("(app-pages-browser)/./hooks/useChatRoom.ts"),_=a("(app-pages-browser)/./lib/utils.ts"),C=e([l,i,n,c,k,_]);function A(){var e,s;let{broadcastChatRoomsUpdate:a,deleteCurrentChatRoomSelect:t,chatRooms:C,currentChatRoom:A,setChatRooms:S,saveChatRoom:z,setCurrentChatRoom:R,backUpChatSelect:E}=(0,k.n)(),[I,$]=(0,o.useState)([]),[D,M]=(0,o.useState)(!1),[U,F]=(0,o.useState)("local"),P=(0,o.useRef)(null),T=(0,d.useRouter)(),O=async e=>{await E(e),await L()},L=async()=>{await G()},B=e=>{try{let s=e.match(/(\d+)\.json$/);return s?parseInt(s[1]):0}catch(e){return console.error("Error extracting timestamp:",e),0}},H=async e=>{M(!0);try{let s=await fetch("https://blacksourcellc.taile6b163.ts.net/chat/content/".concat(e));if(!s.ok)throw Error("Failed to load chat content");let t=await s.json();await z(t);let r=[t,...C.filter(e=>e.id!==t.id)];S(r),R(t),T.push("/c?id=".concat(t.id)),P.current&&P.current.click(),a(r),N.toast.success("Chat loaded successfully",{description:"Loaded chat: ".concat(t.name)})}catch(e){N.toast.error("Failed to load chat",{description:e instanceof Error?e.message:"Unknown error"})}finally{M(!1)}},W=async e=>{let s=C.find(s=>s.id===e);if(s)try{await t(s),P.current&&(null==A?void 0:A.id)===e&&(window.location.reload(),P.current.click())}catch(e){N.toast.error("Failed to delete chat",{description:e instanceof Error?e.message:"Unknown error"})}},V=async e=>{try{if(!window.confirm("Are you sure you want to delete this cloud chat?"))return;if(M(!0),!(await fetch("https://blacksourcellc.taile6b163.ts.net/chat/files/".concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete cloud chat");$(s=>s.filter(s=>s.fullPath!==e)),await L(),N.toast.success("Cloud chat deleted successfully")}catch(e){N.toast.error("Failed to delete cloud chat",{description:e instanceof Error?e.message:"Unknown error"})}finally{M(!1)}},[Z,q]=(0,o.useState)({folderSize:"0 KB",isUnderLimit:!0,files:[]}),G=async()=>{try{let e=await (0,_.FH)();if(!e){N.toast.error("Error!",{description:"Unable to verify user credentials."});return}let s=new Date;if(!(e&&e.expiration_date&&new Date(e.expiration_date)>s)){N.toast.error("Premium Access Required!",{description:"Upgrade your plan to access this feature."});return}let a=await fetch("https://blacksourcellc.taile6b163.ts.net/chat/folder/size?folder=".concat(e.created_at.toString(),"/"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to check folder size");let t=await a.json();q(t);let r=t.files.map(e=>({name:e.name,fullPath:e.fullPath,url:e.url,size:e.bytes,timestamp:B(e.name)})).sort((e,s)=>s.timestamp-e.timestamp);return $(r),t}catch(e){return N.toast.error("Failed to check folder size",{description:e instanceof Error?e.message:"Unknown error"}),null}};return(0,r.jsx)(n.Bc,{children:(0,r.jsxs)(l.lG,{children:[(0,r.jsx)(l.zM,{asChild:!0,children:(0,r.jsx)(c.$,{variant:"outline",size:"icon",onClick:L,children:(0,r.jsx)(p.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(l.Cf,{className:"sm:max-w-md",children:[(0,r.jsxs)(l.c7,{children:[(0,r.jsx)(l.L3,{children:"Backup Chats"}),(0,r.jsx)(l.HM,{ref:P,className:"absolute right-4 top-4",children:(0,r.jsx)(c.$,{variant:"ghost",size:"icon",children:(0,r.jsx)(m.A,{className:"h-4 w-4"})})})]}),(0,r.jsxs)(i.tU,{value:U,onValueChange:F,className:"w-full",children:[(0,r.jsxs)(i.j7,{className:"grid w-full grid-cols-2",children:[(0,r.jsxs)(i.Xi,{value:"local",children:[(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Local ",C.length>0&&"(".concat(C.length,")")]}),(0,r.jsxs)(i.Xi,{value:"cloud",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Cloud ",I.length>0&&"(".concat(I.length,")")]})]}),(0,r.jsx)(i.av,{value:"local",children:(0,r.jsx)("div",{className:"space-y-4",children:0===C.length?(0,r.jsx)("div",{className:"text-center text-muted-foreground",children:"No local chats found"}):(0,r.jsx)("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:C.map(e=>{let s=new Blob([JSON.stringify(e)]).size/1024;return(0,r.jsxs)("div",{className:"group flex items-center justify-between p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-sm truncate",children:e.name.split("_")[0]}),(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded-full truncate max-w-[100px]",title:e.id,children:e.id})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(h.A,{className:"h-3.5 w-3.5"}),(0,r.jsxs)("span",{children:[e.messages.length," messages"]})]}),(0,r.jsx)("span",{className:"mx-1 text-gray-300 dark:text-gray-600",children:""}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(u.A,{className:"h-3.5 w-3.5"}),(0,r.jsxs)("span",{children:[s.toFixed(2)," KB"]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[(0,r.jsxs)(n.m_,{children:[(0,r.jsx)(n.k$,{asChild:!0,children:(0,r.jsx)(c.$,{size:"icon",variant:"outline",className:"text-green-500 hover:text-green-600",onClick:async()=>await O(e),children:(0,r.jsx)(g.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.ZI,{children:(0,r.jsx)("p",{children:"Backup Chat"})})]}),(0,r.jsxs)(n.m_,{children:[(0,r.jsx)(n.k$,{asChild:!0,children:(0,r.jsx)(c.$,{size:"icon",variant:"outline",className:"text-red-500 hover:text-red-600",onClick:()=>W(e.id),children:(0,r.jsx)(f.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.ZI,{children:(0,r.jsx)("p",{children:"Delete Chat"})})]})]})]},e.id)})})})}),(0,r.jsx)(i.av,{value:"cloud",children:(0,r.jsx)("div",{className:"space-y-4",children:D?(0,r.jsx)("div",{className:"text-center",children:"Loading cloud chats..."}):0===I.length?(0,r.jsx)("div",{className:"text-center text-muted-foreground",children:"No cloud chats found"}):(0,r.jsx)("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:I.map(e=>{var s,a;return(0,r.jsxs)("div",{className:"group flex items-center justify-between p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-sm truncate",children:e.name.split("_").slice(0,-1).join(" ").slice(0,10)+(e.name.split("_").slice(0,-1).join(" ").length>10?"...":"")}),(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded-full truncate max-w-[100px]",title:null===(s=e.name.split("_").pop())||void 0===s?void 0:s.replace(".json",""),children:null===(a=e.name.split("_").pop())||void 0===a?void 0:a.replace(".json","")})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2 mt-1 text-xs text-gray-500 dark:text-gray-400",children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(u.A,{className:"h-3.5 w-3.5"}),(0,r.jsxs)("span",{children:[(e.size/1024).toFixed(2)," KB"]})]})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[(0,r.jsxs)(n.m_,{children:[(0,r.jsx)(n.k$,{asChild:!0,children:(0,r.jsx)(c.$,{size:"icon",variant:"outline",className:"text-blue-500 hover:text-blue-600",onClick:()=>H(e.fullPath),children:(0,r.jsx)(b.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.ZI,{children:(0,r.jsx)("p",{children:"Load Chat"})})]}),(0,r.jsxs)(n.m_,{children:[(0,r.jsx)(n.k$,{asChild:!0,children:(0,r.jsx)(c.$,{size:"icon",variant:"outline",className:"text-red-500 hover:text-red-600",onClick:()=>V(e.fullPath),children:(0,r.jsx)(f.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.ZI,{children:(0,r.jsx)("p",{children:"Delete Chat"})})]})]})]},e.fullPath)})})})})]}),(0,r.jsxs)(l.Es,{className:"flex items-center justify-between space-x-4",children:[(0,r.jsxs)("div",{className:"flex-1 flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:[parseFloat(null!==(e=Z.folderSize)&&void 0!==e?e:0).toFixed(1)," of ",parseFloat(null!==(s=Z.remainingSpace)&&void 0!==s?s:0).toFixed(1)," KB"]})]}),(0,r.jsx)("div",{className:"flex-1 flex items-center space-x-2",children:(0,r.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:(0,r.jsx)("div",{className:"h-2.5 rounded-full transition-all duration-300 ".concat(Z.isUnderLimit?"bg-green-500":"bg-red-500"),style:{width:"".concat((()=>{var e;let s=parseFloat(null!==(e=Z.percentageUsed)&&void 0!==e?e:0);return Math.min(s,100)})(),"%")}})})}),!Z.isUnderLimit&&(0,r.jsxs)("div",{className:"flex items-center space-x-1 text-red-500",children:[(0,r.jsx)(w.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-xs font-medium",children:"Limit Exceeded"})]})]}),(0,r.jsxs)(c.$,{variant:"secondary",onClick:L,disabled:D,className:"flex items-center",children:[D?(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(y.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"})]})]})]})]})})}[l,i,n,c,k,_]=C.then?(await C)():C,t()}catch(e){t(e)}})},"(app-pages-browser)/./components/core/border-trail.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{T:()=>n});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./lib/utils.ts"),l=a("(app-pages-browser)/./node_modules/motion/dist/es/framer-motion/dist/es/render/components/motion/proxy.mjs"),i=e([o]);function n(e){let{className:s,size:a=60,transition:t,delay:i,onAnimationComplete:n,style:d}=e;return(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-[inherit] border border-transparent [mask-clip:padding-box,border-box] [mask-composite:intersect] [mask-image:linear-gradient(transparent,transparent),linear-gradient(#000,#000)]",children:(0,r.jsx)(l.P.div,{className:(0,o.cn)("absolute aspect-square bg-zinc-500",s),style:{width:a,offsetPath:"rect(0 auto auto 0 round ".concat(a,"px)"),...d},animate:{offsetDistance:["0%","100%"]},transition:{...null!=t?t:{repeat:1/0,duration:5,ease:"linear"},delay:i},onAnimationComplete:n})})}o=(i.then?(await i)():i)[0],t()}catch(e){t(e)}})},"(app-pages-browser)/./components/core/text-shimmer.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{n:()=>d});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./node_modules/motion/dist/es/framer-motion/dist/es/render/components/motion/proxy.mjs"),i=a("(app-pages-browser)/./lib/utils.ts"),n=e([i]);function d(e){let{children:s,as:a="p",className:t,duration:n=2,spread:d=2}=e,c=l.P.create(a),p=(0,o.useMemo)(()=>s.length*d,[s,d]);return(0,r.jsx)(c,{className:(0,i.cn)("relative inline-block bg-[length:250%_100%,auto] bg-clip-text","text-transparent [--base-color:#a1a1aa] [--base-gradient-color:#000]","[--bg:linear-gradient(90deg,#0000_calc(50%-var(--spread)),var(--base-gradient-color),#0000_calc(50%+var(--spread)))] [background-repeat:no-repeat,padding-box]","dark:[--base-color:#71717a] dark:[--base-gradient-color:#ffffff] dark:[--bg:linear-gradient(90deg,#0000_calc(50%-var(--spread)),var(--base-gradient-color),#0000_calc(50%+var(--spread)))]",t),initial:{backgroundPosition:"100% center"},animate:{backgroundPosition:"0% center"},transition:{repeat:1/0,duration:n,ease:"linear"},style:{"--spread":"".concat(p,"px"),backgroundImage:"var(--bg), linear-gradient(var(--base-color), var(--base-color))"},children:s})}i=(n.then?(await n)():n)[0],t()}catch(e){t(e)}})},"(app-pages-browser)/./components/screenShare.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{A:()=>g});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/camera.js"),i=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/upload.js"),n=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js"),d=a("(app-pages-browser)/./components/ui/button.tsx"),c=a("(app-pages-browser)/./components/ui/popover.tsx"),p=a("(app-pages-browser)/./node_modules/sonner/dist/index.mjs"),m=a("(app-pages-browser)/./lib/fileStorage.ts"),u=a("(app-pages-browser)/./lib/encrypt.tsx"),x=a("(app-pages-browser)/./lib/utils.ts"),h=e([d,c,m,x]);function g(){let[e,s]=(0,o.useState)(null),a=(0,o.useRef)(null),[t,h]=(0,o.useState)(!1),g=async()=>{try{let e=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1});a.current&&(a.current.srcObject=e,a.current.onloadedmetadata=()=>{a.current.play(),setTimeout(()=>f(a.current,e),500)})}catch(e){console.error("Error capturing screen:",e),alert("Failed to capture screen. Please allow screen-sharing permissions.")}},f=(e,a)=>{let t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;let r=t.getContext("2d");if(r){r.drawImage(e,0,0,t.width,t.height);let a=t.toDataURL("image/png");s(a),h(!0)}a.getTracks().forEach(e=>e.stop())},b=async()=>{try{let s=await (0,x.FH)();if(!s){p.toast.error("Error!",{description:"Unable to verify user credentials."});return}let a=new Date;if(!(s&&s.expiration_date&&new Date(s.expiration_date)>a)){p.toast.error("Premium Access Required!",{description:"Upgrade your plan to access this feature."});return}let t=await fetch(e),r=await t.blob(),o=new File([r],"screen-capture-".concat(new Date().toISOString(),".png"),{type:"image/png"}),l=(0,u.mj)(),i=await j(o),n=await fetch("https://blacksourcellc.taile6b163.ts.net/v1/v2/ai/bylearn/completions",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json; charset=utf-8",Authorization:"auth.sessionToken "+l,Origin:"https://bytarch.sytes.net",Referer:"https://bytarch.sytes.net/","User-Agent":"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Mobile Safari/537.36"},body:JSON.stringify({model:"69::google/learnlm-1.5-pro-experimental",messages:[{role:"system",content:"You are an expert visual information extractor with the following core capabilities:\n\n\uD83D\uDCCB Text Extraction Protocol:\n- Capture ALL visible text, regardless of orientation\n- Preserve exact formatting and layout\n- Transcribe text verbatim\n- Support multiple languages and scripts\n- Handle handwritten and printed text\n- Include text location and context\n\n\uD83D\uDD0D Image Information Extraction:\n- Describe image content comprehensively\n- Identify objects, people, and scenes\n- Analyze visual composition\n- Detect colors, textures, and patterns\n- Provide contextual insights\n\n\uD83D\uDCA1 Extraction Guidelines:\n1. Prioritize text readability\n2. Capture numerical and alphanumeric data\n3. Note text orientation and placement\n4. Describe text style (font, size, color)\n5. Provide linguistic and contextual analysis\n\n\uD83C\uDF10 Multilingual Support:\n- Recognize and transcribe text in multiple scripts\n- Provide translation hints if applicable\n- Detect language of text elements\n\n\uD83D\uDCCA Reporting Style:\n- Clear, concise markdown format\n- Use bullet points for structured information\n- Highlight key observations\n- Include confidence levels for extracted information"},{role:"user",content:[{type:"text",text:"Extract all text and provide comprehensive image analysis"},{type:"image_url",image_url:{url:i,detail:"high"}}]}],max_tokens:8e4,temperature:.3,top_p:.9})});if(!n.ok)throw Error("Failed to upload image");let d=await n.json(),c=o.name.split(".").pop()||"",h={id:"file-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),name:o.name,type:o.type,extension:c,content:d.response||d,uploadedAt:Date.now()},g=w();g.push(h);let f=g.slice(-10);localStorage.setItem(m.AQ,JSON.stringify(f)),p.toast.success("Capture uploaded successfully",{description:"".concat(h.name," added to list.")}),sessionStorage.setItem("selectedFileId",h.id),y()}catch(e){console.error("Upload error:",e),p.toast.error("Upload failed",{description:e instanceof Error?e.message:"Unknown error"})}},w=()=>{let e=localStorage.getItem(m.AQ);return e?JSON.parse(e):[]},j=e=>new Promise((s,a)=>{let t=new FileReader;t.readAsDataURL(e),t.onload=()=>s(t.result),t.onerror=e=>a(e)}),y=()=>{s(null),h(!1)};return(0,r.jsx)("div",{children:(0,r.jsxs)(c.AM,{open:t,onOpenChange:h,children:[(0,r.jsx)(c.Wv,{asChild:!0,children:(0,r.jsx)(d.$,{variant:"ghost",size:"icon",className:"mr-2 text-gray-400 hover:text-white",onClick:e?void 0:g,children:(0,r.jsx)(l.A,{className:"w-5 h-5"})})}),(0,r.jsxs)(c.hl,{className:"w-auto max-w-[90vw] max-h-[80vh] p-2",children:[e?(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("img",{src:e,alt:"Captured Tab",className:"max-w-full max-h-[70vh] object-contain"}),(0,r.jsxs)("div",{className:"flex justify-center mt-2 space-x-2",children:[(0,r.jsxs)(d.$,{onClick:b,children:[(0,r.jsx)(i.A,{className:"w-4 h-4 mr-2"}),"Upload"]}),(0,r.jsxs)(d.$,{variant:"destructive",onClick:y,children:[(0,r.jsx)(n.A,{className:"w-4 h-4 mr-2"}),"Clear"]})]})]}):(0,r.jsx)("p",{children:"No image captured yet"}),(0,r.jsx)("video",{ref:a,style:{display:"none"},className:"hidden"})]})]})})}[d,c,m,x]=h.then?(await h)():h,t()}catch(e){t(e)}})},"(app-pages-browser)/./components/text-shimmer.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{q:()=>n});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs"),l=a("(app-pages-browser)/./components/core/text-shimmer.tsx"),i=e([l]);function n(e){let{text:s}=e;return(0,r.jsx)(o.P.span,{animate:{color:["hsl(0, 0%, 80%)","hsl(0, 50%, 60%)","hsl(0, 0%, 70%)","hsl(350, 70%, 50%)","hsl(0, 0%, 80%)"],transition:{duration:5,repeat:1/0,ease:"easeInOut"}},className:"inline-block",children:(0,r.jsx)(l.n,{duration:2,className:"text-xl font-bold    transition-colors duration-500   hover:tracking-wider",children:s})})}l=(i.then?(await i)():i)[0],t()}catch(e){t(e)}})},"(app-pages-browser)/./components/ui/autosize-textarea.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{w:()=>n});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./lib/utils.ts"),i=e([l]);l=(i.then?(await i)():i)[0];let n=e=>{let{textAreaRef:s,triggerAutoSize:a,maxHeight:t=Number.MAX_SAFE_INTEGER,minHeight:r=0}=e,[l,i]=o.useState(!0);o.useEffect(()=>{let e=s.current;if(e){l&&(e.style.minHeight="".concat(r+6,"px"),t>r&&(e.style.maxHeight="".concat(t,"px")),i(!1)),e.style.height="".concat(r+6,"px");let s=e.scrollHeight;s>t?e.style.height="".concat(t,"px"):e.style.height="".concat(s+6,"px")}},[s.current,a])};o.forwardRef((e,s)=>{let{maxHeight:a=Number.MAX_SAFE_INTEGER,minHeight:t=52,className:i,onChange:d,value:c,...p}=e,m=o.useRef(null),[u,x]=o.useState("");return n({textAreaRef:m,triggerAutoSize:u,maxHeight:a,minHeight:t}),(0,o.useImperativeHandle)(s,()=>({textArea:m.current,focus:()=>{var e;return null==m?void 0:null===(e=m.current)||void 0===e?void 0:e.focus()},maxHeight:a,minHeight:t})),o.useEffect(()=>{x(c)},[null==p?void 0:p.defaultValue,c]),(0,r.jsx)("textarea",{...p,value:c,ref:m,className:(0,l.cn)("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),onChange:e=>{x(e.target.value),null==d||d(e)}})}).displayName="AutosizeTextarea",t()}catch(e){t(e)}})},"(app-pages-browser)/./components/ui/button.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{$:()=>p});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./node_modules/@radix-ui/react-slot/dist/index.mjs"),i=a("(app-pages-browser)/./node_modules/class-variance-authority/dist/index.mjs"),n=a("(app-pages-browser)/./lib/utils.ts"),d=e([n]);n=(d.then?(await d)():d)[0];let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-gray-300",{variants:{variant:{default:"bg-gray-900 text-gray-50 shadow hover:bg-gray-900/90 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50/90",destructive:"bg-red-500 text-gray-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-gray-50 dark:hover:bg-red-900/90",outline:"border border-gray-200 bg-white shadow-sm hover:bg-gray-100 hover:text-gray-900 dark:border-gray-800 dark:bg-gray-950 dark:hover:bg-gray-800 dark:hover:text-gray-50",secondary:"bg-gray-100 text-gray-900 shadow-sm hover:bg-gray-100/80 dark:bg-gray-800 dark:text-gray-50 dark:hover:bg-gray-800/80",ghost:"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-50",link:"text-gray-900 underline-offset-4 hover:underline dark:text-gray-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),p=o.forwardRef((e,s)=>{let{className:a,variant:t,size:o,asChild:i=!1,...d}=e,p=i?l.DX:"button";return(0,r.jsx)(p,{className:(0,n.cn)(c({variant:t,size:o,className:a})),ref:s,...d})});p.displayName="Button",t()}catch(e){t(e)}})},"(app-pages-browser)/./components/ui/card.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{BT:()=>p,Wu:()=>m,ZB:()=>c,Zp:()=>n,aR:()=>d});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./lib/utils.ts"),i=e([l]);l=(i.then?(await i)():i)[0];let n=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...t})});n.displayName="Card";let d=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...t})});d.displayName="CardHeader";let c=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("font-semibold leading-none tracking-tight",a),...t})});c.displayName="CardTitle";let p=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...t})});p.displayName="CardDescription";let m=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",a),...t})});m.displayName="CardContent",o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",a),...t})}).displayName="CardFooter",t()}catch(e){t(e)}})},"(app-pages-browser)/./components/ui/dialog.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{Cf:()=>h,Es:()=>f,HM:()=>u,L3:()=>b,c7:()=>g,lG:()=>c,rr:()=>w,zM:()=>p});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./node_modules/@radix-ui/react-dialog/dist/index.mjs"),i=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js"),n=a("(app-pages-browser)/./lib/utils.ts"),d=e([n]);n=(d.then?(await d)():d)[0];let c=l.bL,p=l.l9,m=l.ZL,u=l.bm,x=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t})});x.displayName=l.hJ.displayName;let h=o.forwardRef((e,s)=>{let{className:a,children:t,...o}=e;return(0,r.jsxs)(m,{children:[(0,r.jsx)(x,{}),(0,r.jsxs)(l.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[t,(0,r.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=l.UC.displayName;let g=e=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};g.displayName="DialogHeader";let f=e=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};f.displayName="DialogFooter";let b=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...t})});b.displayName=l.hE.displayName;let w=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...t})});w.displayName=l.VY.displayName,t()}catch(e){t(e)}})},"(app-pages-browser)/./components/ui/dropdown-menu.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{SQ:()=>x,_2:()=>h,lp:()=>g,mB:()=>f,rI:()=>m,ty:()=>u});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs"),i=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js"),n=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/check.js"),d=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle.js"),c=a("(app-pages-browser)/./lib/utils.ts"),p=e([c]);c=(p.then?(await p)():p)[0];let m=l.bL,u=l.l9;l.YJ,l.ZL,l.Pb,l.z6,o.forwardRef((e,s)=>{let{className:a,inset:t,children:o,...n}=e;return(0,r.jsxs)(l.ZP,{ref:s,className:(0,c.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-gray-100 data-[state=open]:bg-gray-100 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus:bg-gray-800 dark:data-[state=open]:bg-gray-800",t&&"pl-8",a),...n,children:[o,(0,r.jsx)(i.A,{className:"ml-auto"})]})}).displayName=l.ZP.displayName,o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.G5,{ref:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white p-1 text-gray-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50",a),...t})}).displayName=l.G5.displayName;let x=o.forwardRef((e,s)=>{let{className:a,sideOffset:t=4,...o}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsx)(l.UC,{ref:s,sideOffset:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white p-1 text-gray-950 shadow-md dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});x.displayName=l.UC.displayName;let h=o.forwardRef((e,s)=>{let{className:a,inset:t,...o}=e;return(0,r.jsx)(l.q7,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0 dark:focus:bg-gray-800 dark:focus:text-gray-50",t&&"pl-8",a),...o})});h.displayName=l.q7.displayName,o.forwardRef((e,s)=>{let{className:a,children:t,checked:o,...i}=e;return(0,r.jsxs)(l.H_,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50",a),checked:o,...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})}),t]})}).displayName=l.H_.displayName,o.forwardRef((e,s)=>{let{className:a,children:t,...o}=e;return(0,r.jsxs)(l.hN,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50",a),...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(d.A,{className:"h-2 w-2 fill-current"})})}),t]})}).displayName=l.hN.displayName;let g=o.forwardRef((e,s)=>{let{className:a,inset:t,...o}=e;return(0,r.jsx)(l.JU,{ref:s,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",a),...o})});g.displayName=l.JU.displayName;let f=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-gray-100 dark:bg-gray-800",a),...t})});f.displayName=l.wv.displayName,t()}catch(e){t(e)}})},"(app-pages-browser)/./components/ui/popover.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{AM:()=>d,Wv:()=>c,hl:()=>p});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./node_modules/@radix-ui/react-popover/dist/index.mjs"),i=a("(app-pages-browser)/./lib/utils.ts"),n=e([i]);i=(n.then?(await n)():n)[0];let d=l.bL,c=l.l9;l.Mz;let p=o.forwardRef((e,s)=>{let{className:a,align:t="center",sideOffset:o=4,...n}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsx)(l.UC,{ref:s,align:t,sideOffset:o,className:(0,i.cn)("z-50 w-72 rounded-md border border-gray-200 bg-white p-4 text-gray-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50",a),...n})})});p.displayName=l.UC.displayName,t()}catch(e){t(e)}})},"(app-pages-browser)/./components/ui/resizable.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{HK:()=>d,WM:()=>p,wV:()=>c});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/grip-vertical.js"),l=a("(app-pages-browser)/./node_modules/react-resizable-panels/dist/react-resizable-panels.browser.esm.js"),i=a("(app-pages-browser)/./lib/utils.ts"),n=e([i]);i=(n.then?(await n)():n)[0];let d=e=>{let{className:s,...a}=e;return(0,r.jsx)(l.YZ,{className:(0,i.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",s),...a})},c=l.Zk,p=e=>{let{withHandle:s,className:a,...t}=e;return(0,r.jsx)(l.TW,{className:(0,i.cn)("relative flex w-px items-center justify-center bg-gray-200 after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-950 focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90 dark:bg-gray-800 dark:focus-visible:ring-gray-300",a),...t,children:s&&(0,r.jsx)("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border border-gray-200 bg-gray-200 dark:border-gray-800 dark:bg-gray-800",children:(0,r.jsx)(o.A,{className:"h-2.5 w-2.5"})})})};t()}catch(e){t(e)}})},"(app-pages-browser)/./components/ui/select.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{TR:()=>w,bq:()=>h,eb:()=>j,gC:()=>b,l6:()=>m,mi:()=>y,s3:()=>u,yv:()=>x});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./node_modules/@radix-ui/react-select/dist/index.mjs"),i=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),n=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-up.js"),d=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/check.js"),c=a("(app-pages-browser)/./lib/utils.ts"),p=e([c]);c=(p.then?(await p)():p)[0];let m=l.bL,u=l.YJ,x=l.WT,h=o.forwardRef((e,s)=>{let{className:a,children:t,...o}=e;return(0,r.jsxs)(l.l9,{ref:s,className:(0,c.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-gray-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-gray-500 focus:outline-none focus:ring-1 focus:ring-gray-950 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-gray-800 dark:ring-offset-gray-950 dark:placeholder:text-gray-400 dark:focus:ring-gray-300",a),...o,children:[t,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});h.displayName=l.l9.displayName;let g=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.PP,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...t,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});g.displayName=l.PP.displayName;let f=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.wn,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...t,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=l.wn.displayName;let b=o.forwardRef((e,s)=>{let{className:a,children:t,position:o="popper",...i}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white text-gray-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:o,...i,children:[(0,r.jsx)(g,{}),(0,r.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(f,{})]})})});b.displayName=l.UC.displayName;let w=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.JU,{ref:s,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",a),...t})});w.displayName=l.JU.displayName;let j=o.forwardRef((e,s)=>{let{className:a,children:t,...o}=e;return(0,r.jsxs)(l.q7,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50",a),...o,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:t})]})});j.displayName=l.q7.displayName;let y=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-gray-100 dark:bg-gray-800",a),...t})});y.displayName=l.wv.displayName,t()}catch(e){t(e)}})},"(app-pages-browser)/./components/ui/table.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{A0:()=>d,BF:()=>c,Hj:()=>p,XI:()=>n,nA:()=>u,nd:()=>m});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./lib/utils.ts"),i=e([l]);l=(i.then?(await i)():i)[0];let n=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",a),...t})})});n.displayName="Table";let d=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",a),...t})});d.displayName="TableHeader";let c=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...t})});c.displayName="TableBody",o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...t})}).displayName="TableFooter";let p=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...t})});p.displayName="TableRow";let m=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("th",{ref:s,className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...t})});m.displayName="TableHead";let u=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("td",{ref:s,className:(0,l.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...t})});u.displayName="TableCell",o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...t})}).displayName="TableCaption",t()}catch(e){t(e)}})},"(app-pages-browser)/./components/ui/tabs.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{Xi:()=>p,av:()=>m,j7:()=>c,tU:()=>d});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./node_modules/@radix-ui/react-tabs/dist/index.mjs"),i=a("(app-pages-browser)/./lib/utils.ts"),n=e([i]);i=(n.then?(await n)():n)[0];let d=l.bL,c=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.B8,{ref:s,className:(0,i.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-gray-100 p-1 text-gray-500 dark:bg-gray-800 dark:text-gray-400",a),...t})});c.displayName=l.B8.displayName;let p=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.l9,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-gray-950 data-[state=active]:shadow dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300 dark:data-[state=active]:bg-gray-950 dark:data-[state=active]:text-gray-50",a),...t})});p.displayName=l.l9.displayName;let m=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.UC,{ref:s,className:(0,i.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300",a),...t})});m.displayName=l.UC.displayName,t()}catch(e){t(e)}})},"(app-pages-browser)/./components/ui/textarea.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{T:()=>n});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./lib/utils.ts"),i=e([l]);l=(i.then?(await i)():i)[0];let n=o.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...t})});n.displayName="Textarea",t()}catch(e){t(e)}})},"(app-pages-browser)/./components/ui/tooltip.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{Bc:()=>d,ZI:()=>m,k$:()=>p,m_:()=>c});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./node_modules/@radix-ui/react-tooltip/dist/index.mjs"),i=a("(app-pages-browser)/./lib/utils.ts"),n=e([i]);i=(n.then?(await n)():n)[0];let d=l.Kq,c=l.bL,p=l.l9,m=o.forwardRef((e,s)=>{let{className:a,sideOffset:t=4,...o}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsx)(l.UC,{ref:s,sideOffset:t,className:(0,i.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});m.displayName=l.UC.displayName,t()}catch(e){t(e)}})},"(app-pages-browser)/./components/uploads.tsx":(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{u:()=>g});var r=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),o=a("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=a("(app-pages-browser)/./components/ui/dialog.tsx"),i=a("(app-pages-browser)/./components/ui/button.tsx"),n=a("(app-pages-browser)/./components/ui/table.tsx"),d=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file.js"),c=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js"),p=a("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js"),m=a("(app-pages-browser)/./node_modules/sonner/dist/index.mjs"),u=a("(app-pages-browser)/./node_modules/date-fns/format.js"),x=a("(app-pages-browser)/./lib/fileStorage.ts"),h=e([l,i,n,x]);[l,i,n,x]=h.then?(await h)():h;let g=e=>{let{onDeleteFile:s,onSelectFile:a}=e,[t,h]=(0,o.useState)([]),[g,f]=(0,o.useState)(!1),[b,w]=(0,o.useState)(!1),[j,y]=(0,o.useState)(null),v=()=>{w(!0);try{let e=(0,x._W)();h(e);let s=sessionStorage.getItem("selectedFileId");if(s){let t=e.find(e=>e.id===s);t?(y(s),null==a||a(t)):(sessionStorage.removeItem("selectedFileId"),y(null),null==a||a(null))}else sessionStorage.removeItem("selectedFileId"),y(null),null==a||a(null);if(s){let t=e.find(e=>e.id===s);t?(y(s),null==a||a(t)):(sessionStorage.removeItem("selectedFileId"),y(null),null==a||a(null))}}catch(e){console.error("Error fetching files",e),m.toast.error("Failed to load files")}finally{w(!1)}};(0,o.useEffect)(()=>{let e;return g&&(v(),e=setInterval(v,5e4)),()=>{e&&clearInterval(e)}},[g,a]);let N=e=>{try{(0,x.Y5)(e),e===j&&(sessionStorage.removeItem("selectedFileId"),y(null),null==a||a(null)),v(),null==s||s(e),m.toast.success("File deleted successfully")}catch(e){console.error("Error deleting file",e),m.toast.error("Failed to delete file")}},k=e=>{if(j===e){sessionStorage.removeItem("selectedFileId"),y(null),null==a||a(null);let s=(0,x.BO)(e);s&&m.toast.success("Deselected file: ".concat(s.name),{description:"".concat(s.extension," - ").concat((0,u.GP)(new Date(s.uploadedAt),"MMM dd, yyyy HH:mm"))})}else{sessionStorage.setItem("selectedFileId",e),y(e);let s=(0,x.BO)(e);s&&(m.toast.success("Selected file: ".concat(s.name),{description:"".concat(s.extension," - ").concat((0,u.GP)(new Date(s.uploadedAt),"MMM dd, yyyy hh:mm a"))}),null==a||a(s))}f(!1)};return(0,r.jsxs)(l.lG,{open:g,onOpenChange:f,children:[(0,r.jsx)(l.zM,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"ghost",size:"icon",className:"mr-2 text-gray-400 hover:text-white",children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(l.Cf,{className:"max-w-full sm:max-w-4xl w-[95%] sm:w-auto",children:[(0,r.jsxs)(l.c7,{className:"flex flex-row items-center justify-between",children:[(0,r.jsx)(l.L3,{className:"text-base sm:text-lg",children:"Uploaded Files"}),(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:v,disabled:b,className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)(c.A,{className:"h-4 w-4 ".concat(b?"animate-spin":"")})})]}),b?(0,r.jsx)("div",{className:"text-center text-muted-foreground py-4",children:"Loading files..."}):0===t.length?(0,r.jsx)("div",{className:"text-center text-muted-foreground py-4",children:"No files uploaded yet"}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)(n.XI,{children:[(0,r.jsx)(n.A0,{children:(0,r.jsxs)(n.Hj,{children:[(0,r.jsx)(n.nd,{className:"w-1/4 sm:w-auto",children:"Name"}),(0,r.jsx)(n.nd,{className:"w-1/4 sm:w-auto",children:"Uploaded"}),(0,r.jsx)(n.nd,{className:"text-right",children:" "})]})}),(0,r.jsx)(n.BF,{children:t.map(e=>(0,r.jsxs)(n.Hj,{onClick:()=>k(e.id),className:"cursor-pointer ".concat(j===e.id?"bg-green-500/10 hover:bg-green-500/20":"hover:bg-gray-800"),children:[(0,r.jsx)(n.nA,{className:"font-medium truncate max-w-[950px]",children:e.name}),(0,r.jsx)(n.nA,{className:"text-xs sm:text-sm",children:(0,u.GP)(new Date(e.uploadedAt),"MMM dd, yyyy hh:mm a")}),(0,r.jsx)(n.nA,{className:"text-right",children:(0,r.jsx)("div",{className:"flex justify-end space-x-1",children:(0,r.jsx)(i.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>N(e.id),title:"Delete File",children:(0,r.jsx)(p.A,{className:"h-4 w-4 text-red-500"})})})})]},e.id))})]})})]})]})};t()}catch(e){t(e)}})}}]);