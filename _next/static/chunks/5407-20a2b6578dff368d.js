(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5407],{"?599d":()=>{},"(app-pages-browser)/./lib/api.ts":(e,t,o)=>{"use strict";o.a(e,async(e,n)=>{try{o.d(t,{Co:()=>d,Iy:()=>l,Wd:()=>p,bl:()=>u,k7:()=>c});var r=o("(app-pages-browser)/./lib/encrypt.tsx"),a=o("(app-pages-browser)/./node_modules/axios/lib/axios.js"),i=o("(app-pages-browser)/./lib/utils.ts"),s=e([i]);i=(s.then?(await s)():s)[0];let c=async e=>(await a.A.get("https://blacksourcellc.taile6b163.ts.net/v1/content/novalis/textbooks/search",{params:{q:e},headers:{Accept:"*/*",Authorization:"auth.sessionToken ".concat(i.c7),"Accept-Language":"en-US,en;q=0.9"}})).data,l=async e=>{let t=(0,r.mj)(),o=await fetch("https://blacksourcellc.taile6b163.ts.net/v1/v2/ai/bylearn/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"auth.sessionToken ".concat(t)},body:JSON.stringify({model:"02::Instruct",messages:[{role:"user",content:"   You are a professional prompt engineer specializing in crafting precise, effective prompts.\n            Your task is to enhance prompts by making them more specific, actionable, and effective.\n\n            I want you to improve the user prompt that is wrapped in `<original_prompt>` tags.\n\n            For valid prompts:\n            - Make instructions explicit and unambiguous\n            - Add relevant context and constraints\n            - Remove redundant information\n            - Maintain the core intent\n            - Ensure the prompt is self-contained\n            - Use professional language\n\n            For invalid or unclear prompts:\n            - Respond with a clear, professional guidance message\n            - Keep responses concise and actionable\n            - Maintain a helpful, constructive tone\n            - Focus on what the user should provide\n            - Use a standard template for consistency\n\n            IMPORTANT: Your response must ONLY contain the enhanced prompt text.\n            Do not include any explanations, metadata, or wrapper tags.\n          \n          Advanced Prompt Engineering Framework: Keyword-Targeted Response Optimization\n        \n        Keyword Detection and Response Routing:\n        \n        1. Search & Navigation Keywords:\n           - Triggers: 'find', 'visit', 'go to', 'website', 'search', 'recent', 'current', 'latest'\n           - Focus: Precise information retrieval, web navigation, up-to-date content\n           - Optimization Strategy: \n             * Clarify specific search intent\n             * Specify desired information depth\n             * Provide context for search parameters\n        \n        2. Media & Entertainment Keywords:\n           - Triggers: 'IMDB', 'movie', 'film', 'youtube'\n           - Focus: Media-specific content discovery, recommendations\n           - Optimization Strategy:\n             * Extract genre, preference, or specific media criteria\n             * Define recommendation parameters\n             * Clarify user's content consumption goal\n             * The IMDB url should remain the same\n        \n        3. Image Generation Keywords:\n           - Triggers: \n             * Detailed Image Creation: 'product image', 'create a image', 'image of', 'generate'\n             * Quick Image Generation: 'product a image', 'create image'\n           - Focus: Visual content creation, precise image specifications\n           - Optimization Strategy:\n             * Define image characteristics\n             * Specify generation style/platform\n             * Provide detailed creative direction\n        \n        Prompt Enhancement Protocol:\n        - Retain original keyword triggers\n        - Expand contextual understanding\n        - Refine user's implicit intent\n        - Ensure precise, actionable output\n        \n        Output Requirement:\n        - Deliver enhanced, keyword-aligned prompt\n        - Maintain original communication essence\n        - Target specialized response pathway\n        \n        <original_prompt>\n        ".concat(e,"\n        </original_prompt>\n        ")}],stream:!1,max_tokens:150})});if(!o.ok)throw Error("A subscription is required.");return(await o.json()).response},p=async(e,t,o)=>{let n=await (0,r.mj)();if(!n)throw Error("No session token found");let a=await fetch("https://blacksourcellc.taile6b163.ts.net/v1/v2/ai/bylearn/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"auth.sessionToken ".concat(n)},body:JSON.stringify({model:e,messages:t,stream:!0,max_tokens:1600})});if(!a.ok)throw Error("A subscription is required.");if(!a.body||"function"!=typeof a.body.getReader)throw Error("Response body is not a ReadableStream");let i=a.body.getReader(),s=new TextDecoder;for(;;){let{done:e,value:t}=await i.read();if(e)break;let n=s.decode(t,{stream:!0});o&&o(n,!1)}o&&o("",!0)},d=async(e,t,o)=>{let n=await (0,r.mj)();if(!n)throw Error("No session token found");let i=t[t.length-1].content,s="",c=null,l=i.match(/https?:\/\/(?:www\.)?imdb\.com\/title\/tt\d+/i);if(l)s=l[0];else{let e=i.match(/https?:\/\/bzblackstream\.vercel\.app\/movies\/(\d+)/i);e&&(c=e[1])}try{var p,d;if(c){let e=await a.A.get("https://api.themoviedb.org/3/movie/".concat(c,"?api_key=680c99274ddab12ffac27271d9445d45&append_to_response=external_ids")),t=null===(d=e.data.external_ids)||void 0===d?void 0:d.imdb_id;if(t)s="https://www.imdb.com/title/".concat(t);else throw Error("Could not find IMDb ID for the movie")}if(!s)throw Error("No valid movie URL found");let e=await fetch("https://blacksourcellc.taile6b163.ts.net/api/suite/movie",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"auth.sessionToken ".concat(n)},body:JSON.stringify({query:i,url:s})});if(!e.ok)throw Error("API request failed with status ".concat(e.status));let t=null===(p=e.body)||void 0===p?void 0:p.getReader();if(!t)throw Error("Failed to read response stream");let r="";for(;;){let{done:e,value:n}=await t.read();if(e)break;let a=new TextDecoder().decode(n);r+=a,o&&o(a,!1)}return o&&o("",!0),r}catch(e){throw console.error("Error while fetching AI response:",e),Error("A subscription is required.")}},u=async(e,t,o)=>{let n=await (0,r.mj)();if(!n)throw Error("No session token found");let a=t[t.length-1].content,i=function(e){for(let t of[/(?:https?:\/\/)?(?:www\.)?youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)([^&\n\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtu\.be\/([^&\n\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([^&\n\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/shorts\/([^&\n\s]+)/]){let o=e.match(t);if(o&&o[1])return o[1]}return null}(a);if(!i)throw Error("No valid YouTube URL found");try{let e=await fetch("https://blacksourcellc.taile6b163.ts.net/api/suite/yt",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"auth.sessionToken ".concat(n)},body:JSON.stringify({query:a,videoUrl:"https://www.youtube.com/watch?v=".concat(i)})});if(!e.ok)throw Error("A subscription is required.: ".concat(e.status," ").concat(e.statusText));if(!e.body||"function"!=typeof e.body.getReader)throw Error("Response body is not a ReadableStream");let t=e.body.getReader(),r=new TextDecoder,s="";for(;;){let{done:e,value:n}=await t.read();if(e)break;let a=r.decode(n,{stream:!0});s+=a,o&&o(a,!1)}return o&&o("",!0),s}catch(e){throw console.error("Error while fetching AI response:",e),Error("A subscription is required.")}};n()}catch(e){n(e)}})},"(app-pages-browser)/./lib/encrypt.tsx":(e,t,o)=>{"use strict";o.d(t,{Ui:()=>c,WY:()=>p,mj:()=>l});var n=o("(app-pages-browser)/./node_modules/crypto-js/index.js"),r=o.n(n);let a="123slatt",i=e=>r().AES.encrypt(e,a).toString(),s=e=>r().AES.decrypt(e,a).toString(r().enc.Utf8),c=e=>{try{let t=i(e);localStorage.setItem("accessToken",t)}catch(e){console.error("Failed to store token",e)}},l=()=>{try{let e=localStorage.getItem("accessToken");return e?s(e):null}catch(e){return console.error("Failed to retrieve token",e),null}},p=()=>{localStorage.removeItem("accessToken")}},"(app-pages-browser)/./lib/utils.ts":(e,t,o)=>{"use strict";o.a(e,async(e,n)=>{try{o.d(t,{FH:()=>u,O5:()=>w,QM:()=>h,YS:()=>f,_w:()=>g,aS:()=>e,c7:()=>v,cn:()=>d,dE:()=>m,lk:()=>y,sr:()=>b});var r=o("(app-pages-browser)/./node_modules/clsx/dist/clsx.mjs"),a=o("(app-pages-browser)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs"),i=o("(app-pages-browser)/./node_modules/jsonwebtoken/index.js"),s=o.n(i),c=o("(app-pages-browser)/./lib/encrypt.tsx"),l=o("(app-pages-browser)/./node_modules/sonner/dist/index.mjs"),p=o("(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js");function d(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,a.QP)((0,r.$)(t))}let e=(0,c.mj)(),h=e=>{let t=new Date,o=new Date(e),n=Math.floor((t.getTime()-o.getTime())/1e3),r=604800,a=2592e3,i=31536e3;if(n<60)return"".concat(n," seconds ago");if(n<3600){let e=Math.floor(n/60);return"".concat(e," min").concat(e>1?"s":""," ago")}if(n<86400){let e=Math.floor(n/3600);return"".concat(e," hour").concat(e>1?"s":""," ago")}if(n<r){let e=Math.floor(n/86400);return"".concat(e," day").concat(e>1?"s":""," ago")}if(n<a){let e=Math.floor(n/r);return"".concat(e," week").concat(e>1?"s":""," ago")}if(n<i){let e=Math.floor(n/a);return"".concat(e," month").concat(e>1?"s":""," ago")}{let e=Math.floor(n/i);return"".concat(e," year").concat(e>1?"s":""," ago")}},f=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),b=()=>{let e=[{light:"from-blue-200 via-blue-500 to-blue-200",dark:"from-blue-400 via-blue-500 to-blue-700"},{light:"from-green-200 via-emerald-500 to-green-200",dark:"from-green-400 via-emerald-500 to-green-700"},{light:"from-purple-200 via-violet-500 to-purple-200",dark:"from-purple-400 via-violet-500 to-purple-700"},{light:"from-teal-200 via-cyan-500 to-teal-200",dark:"from-teal-400 via-cyan-500 to-teal-700"},{light:"from-rose-200 via-pink-500 to-rose-200",dark:"from-rose-400 via-pink-500 to-rose-700"}];return e[Math.floor(Math.random()*e.length)]};async function u(){try{let e=(0,c.mj)();return e||console.error("Access Token not found!"),s().decode(e,"bytarch40269erin4l").userInfo}catch(e){return console.error("Error in verifyUser:",e),null}}function m(){l.toast.info("This feature is coming soon")}let w=e=>{let t=e.replace(/\\\[([^\]]+)\\\]/g,"$$\n$1\n$$").replace(/\\\(([^)]+)\\\)/g,"$\n$1\n$").replace(/\\begin{equation}([\s\S]*?)\\end{equation}/g,"$$\n$1\n$$").replace(/\\text{([^}]+)}/g,"\\text{$1}").replace(/\\mathbb{([^}]+)}/g,"\\mathbb{$1}").replace(/\\mathcal{([^}]+)}/g,"\\mathcal{$1}").replace(/\\left\(/g,"(").replace(/\\right\)/g,")").replace(/\\dfrac{([^}]+)}{([^}]+)}/g,"\\frac{$1}{$2}");return t=t.replace(/\b([a-zA-Z]+\s*\([^)]*\)|\d+\s*[+\-*/]\s*\d+|\b[a-zA-Z]\s*=\s*[^,\n]+)/g,e=>/\$.*\$/.test(e)?e:(e.includes("=")||e.includes("(")||/[+\-*/]/.test(e),"$".concat(e,"$"))),[/\b(sin|cos|tan|cot|sec|csc|arcsin|arccos|arctan)\s*\([^)]+\)/gi,/\b(log|ln|exp)\s*\([^)]+\)/gi,/\b(d\/d[a-zA-Z]|derivative|integral)\s*[^\n,]+/gi,/\b(α|β|γ|δ|ε|ζ|η|θ|λ|μ|π|σ|τ|φ|ψ|ω)\b/g,/\b(Σ|∑|Π|∏)\s*[^\n,]+/g].forEach(e=>{t=t.replace(e,e=>/\$.*\$/.test(e)?e:e.length>20?"$$".concat(e,"$$"):"$".concat(e,"$"))}),t};function g(e){return e.replace(/\x1b\[([0-9]{1,2}(;[0-9]{1,2})*)?[m|K]/g,"")}let y=()=>(0,p.A)().toString(),v=await (0,c.mj)();n()}catch(e){n(e)}},1)}}]);