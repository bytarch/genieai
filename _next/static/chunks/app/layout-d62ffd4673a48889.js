(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{99738:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,19324,23)),Promise.resolve().then(r.bind(r,14627)),Promise.resolve().then(r.bind(r,34010)),Promise.resolve().then(r.bind(r,81698)),Promise.resolve().then(r.bind(r,98192)),Promise.resolve().then(r.t.bind(r,53704,23)),Promise.resolve().then(r.t.bind(r,65688,23)),Promise.resolve().then(r.t.bind(r,39432,23))},14627:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>s});var o=r(95155);r(12115);var a=r(67113);function s(e){let{children:t,...r}=e;return(0,o.jsx)(a.N,{...r,children:t})}},34010:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>n});var o=r(95155),a=r(67113),s=r(30814);let n=e=>{let{...t}=e,{theme:r="system"}=(0,a.D)();return(0,o.jsx)(s.l$,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})}},81698:(e,t,r)=>{"use strict";r.d(t,{SettingsProvider:()=>g,t:()=>h});var o=r(95155),a=r(12115),s=r(83102),n=r(30814),i=r(81891),c=r(76046),l=r(41748),u=r(95676);let d=(0,a.createContext)(void 0),g=e=>{let{children:t}=e,r=(0,c.useRouter)(),{chatRooms:g,deleteChatRooms:h}=(0,i.n)(),[m,y]=(0,a.useState)(!1),[p,b]=(0,a.useState)("important"),[f,S]=(0,a.useState)("en"),[v,x]=(0,a.useState)("never"),[w,N]=(0,a.useState)(0),[P,R]=(0,a.useState)(!1),[F,k]=(0,a.useState)(0),[j,O]=(0,a.useState)(()=>{let e=localStorage.getItem("aiFeatures");return e?JSON.parse(e):{search:!1,imageGeneration:!1,youtube:!1,dataSharing:!1,locationAccess:!1,advancedAnalytics:!1,experimentalFeatures:!1,...s.Oc}});return(0,a.useEffect)(()=>{N(Number(g.reduce((e,t)=>e+new Blob([JSON.stringify(t)]).size/1024,0).toFixed(2))),k(Number((0,u._W)().reduce((e,t)=>e+(t.content?new Blob([JSON.stringify(t)]).size/1024:0),0).toFixed(2)))},[g]),(0,a.useEffect)(()=>{let e=localStorage.getItem("bytarchSettings");if(e)try{let t=JSON.parse(e);y(t.darkMode||!1),b(t.notificationPreferences||"important"),S(t.selectedLanguage||"en"),x(t.autoDeleteDays||"never"),R(t.privacyMode||!1),O(e=>({...e,...t.features||{}}))}catch(e){console.error("Failed to load saved settings")}},[]),(0,o.jsx)(d.Provider,{value:{darkMode:m,setDarkMode:y,notificationPreferences:p,setNotificationPreferences:b,selectedLanguage:f,setSelectedLanguage:S,features:j,toggleFeature:e=>{let t={...j,[e]:!j[e]};O(t),localStorage.setItem("aiFeatures",JSON.stringify(t)),n.oR.info("".concat(e," ").concat(t[e]?"enabled":"disabled"))},chatHistorySize:w,uploadedFilesSize:F,handleExportChatHistory:()=>{try{let e=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="bytarch_genie_chat_history_".concat(new Date().toISOString().split("T")[0],".json"),r.click(),n.oR.success("Chat history exported successfully")}catch(e){n.oR.error("Failed to export chat history")}},handleClearChatHistory:()=>{try{window.confirm("Are you sure you want to clear all chat history? This cannot be undone.")&&(h(),N(0),n.oR.success("Chat history cleared successfully"))}catch(e){n.oR.error("Failed to clear chat history")}},autoDeleteDays:v,setAutoDeleteDays:x,privacyMode:P,setPrivacyMode:R,handleLogout:()=>{try{(0,l.WY)(),localStorage.removeItem("bytarchSettings"),localStorage.removeItem("aiFeatures"),n.oR.success("Logged out successfully"),r.push("/login")}catch(e){n.oR.error("Logout failed")}},handleSaveSettings:()=>{try{localStorage.setItem("bytarchSettings",JSON.stringify({darkMode:m,notificationPreferences:p,selectedLanguage:f,features:j,privacyMode:P,autoDeleteDays:v})),n.oR.success("Settings saved successfully")}catch(e){n.oR.error("Failed to save settings")}},resetToDefaultSettings:()=>{try{y(!1),b("important"),S("en"),x("never"),R(!1),O({search:!0,imageGeneration:!1,youtube:!1,dataSharing:!1,locationAccess:!1,advancedAnalytics:!1,experimentalFeatures:!1}),localStorage.removeItem("bytarchSettings"),localStorage.removeItem("aiFeatures"),n.oR.success("Settings reset to default")}catch(e){n.oR.error("Failed to reset settings")}}},children:t})},h=()=>{let e=(0,a.useContext)(d);if(void 0===e)throw Error("useSettings must be used within a SettingsProvider");return e}},98192:(e,t,r)=>{"use strict";r.d(t,{SessionProvider:()=>l});var o=r(95155),a=r(12115),s=r(76046),n=r(30814),i=r(41748),c=r(83102);function l(e){let{children:t}=e,r=(0,s.useRouter)(),l=(0,s.usePathname)(),[u,d]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=async()=>{if((0,c.Kk)(),(0,c.Nx)(),"/login"===l||"/"===l){d(!1);return}try{let e=await (0,i.mj)();if(!e){r.push("/login");return}let t=await fetch("https://blacksourcellc.taile6b163.ts.net/v1/auth/session",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();await (0,i.Ui)(e.accessToken)}else await (0,i.WY)(),n.oR.error("Session Expired",{description:"Please log in again.",duration:3e3}),r.push("/login")}catch(e){console.error("Session check failed:",e),n.oR.error("Network Error",{description:"Unable to validate session. Please try again.",duration:3e3}),await (0,i.WY)(),r.push("/login")}finally{d(!1)}};e();let t=setInterval(e,36e5);return()=>clearInterval(t)},[r,l]),u)?(0,o.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-black",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500"})}):(0,o.jsx)(o.Fragment,{children:t})}},19324:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[261,268,151,651,99,372,441,517,358],()=>t(99738)),_N_E=e.O()}]);